(function(Z,g){typeof exports=="object"&&typeof module<"u"?g(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],g):(Z=typeof globalThis<"u"?globalThis:Z||self,g(Z.Vue3DRRGridLayout={},Z.Vue))})(this,function(Z,g){"use strict";var ha=Object.defineProperty;var ga=(Z,g,yt)=>g in Z?ha(Z,g,{enumerable:!0,configurable:!0,writable:!0,value:yt}):Z[g]=yt;var f=(Z,g,yt)=>(ga(Z,typeof g!="symbol"?g+"":g,yt),yt);const yt=Symbol("$emitter"),jo=t=>{let e=0,n;for(let o=0;o<t.length;o++)n=t[o].y+t[o].h,n>e&&(e=n);return e},xe=t=>{const e=Array(t.length);for(let n=0;n<t.length;n++)e[n]=Bo(t[n]);return e},Bo=t=>JSON.parse(JSON.stringify(t)),rn=(t,e)=>!(t===e||t.x+t.w<=e.x||t.x>=e.x+e.w||t.y+t.h<=e.y||t.y>=e.y+e.h),jt=(t,e)=>{const n=cn(t),o=un(t),i=Array(t.length);for(let r=0;r<o.length;r++){let s=o[r];s.static||(s=Fo(n,s,e),n.push(s)),i[t.indexOf(s)]=s,s.moved=!1}return i},Fo=(t,e,n)=>{if(n)for(;e.y>0&&!te(t,e);)e.y--;let o;for(;o=te(t,e);)e.y=o.y+o.h;return e},Wo=(t,e)=>{const n=cn(t);for(let o=0;o<t.length;o++){const i=t[o];if(i.x+i.w>e.cols&&(i.x=e.cols-i.w),i.x<0&&(i.x=0,i.w=e.cols),!i.static)n.push(i);else for(;te(n,i);)i.y++}return t},sn=(t,e)=>t.filter(n=>rn(n,e)),te=(t,e)=>{for(let n=0,o=t.length;n<o;n++)if(rn(t[n],e))return t[n]},an=(t,e)=>t.filter(n=>n.i===+e)[0],cn=t=>t.filter(e=>e.static),we=(t,e,n,o,i,r)=>{if(e.static)return t;const s=e.x,a=e.y,l=o&&e.y>o;e.x=n,e.y=o,e.moved=!0;let c=un(t);l&&(c=c.reverse());const u=sn(c,e);if(r&&u.length)return e.x=s,e.y=a,e.moved=!1,t;for(let d=0;d<u.length;d++){const m=u[d];m.moved||e.y>m.y&&e.y-m.y>m.h/4||(m.static?t=ln(t,m,e,i):t=ln(t,e,m,i))}return t},ln=(t,e,n,o)=>{if(o){const r={h:n.h,i:-1,w:n.w,x:n.x,y:Math.max(e.y-n.h,0)};if(!te(t,r))return we(t,n,r.x,r.y,!1)}return we(t,n,n.x,n.y+1,!1)},qo=(t,e,n,o)=>({height:`${o}px`,left:`${e}px`,position:"absolute",top:`${t}px`,width:`${n}px`}),Xo=(t,e,n,o)=>({height:`${o}px`,position:"absolute",transform:`translate3d(${e}px,${t}px, 0)`,width:`${n}px`}),un=t=>[...t].sort((e,n)=>e.y===n.y&&e.x===n.x?0:e.y>n.y||e.y===n.y&&e.x>n.x?1:-1),Yo=(t,e,n)=>t.trim().replace(e,n),Go=(t,e,n,o,i,r,s)=>{if(Object.prototype.hasOwnProperty.call(e,o))return xe(e[o]||[]);let a=t;const l=dn(n),c=l.slice(l.indexOf(o));for(let u=0;u<c.length;u++){const d=c[u];if(Object.prototype.hasOwnProperty.call(e,d)){a=e[d];break}}return a=xe(a||[]),jt(Wo(a,{cols:r}),s)},Vo=(t,e)=>{var i;const n=dn(t);let[o]=n;for(let r=1;r<n.length;r++){const s=n[r];e>((i=t[s])!=null?i:1)&&(o=s)}return o},Se=(t,e)=>{var n;return(n=e[t])!=null?n:void 0},dn=t=>Object.keys(t).sort((e,n)=>{var o,i;return((o=t[e])!=null?o:1)-((i=t[n])!=null?i:1)}),fn=t=>!!(t&&t.Window)&&t instanceof t.Window;let pn,bt;function hn(t){pn=t;const e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),bt=t}typeof window<"u"&&!!window&&hn(window);function dt(t){return fn(t)?t:(t.ownerDocument||t).defaultView||bt.window}const Uo=t=>t===bt||fn(t),Ko=t=>ee(t)&&t.nodeType===11,ee=t=>!!t&&typeof t=="object",gn=t=>typeof t=="function",h={window:Uo,docFrag:Ko,object:ee,func:gn,number:t=>typeof t=="number",bool:t=>typeof t=="boolean",string:t=>typeof t=="string",element:t=>{if(!t||typeof t!="object")return!1;const e=dt(t)||bt;return/object|function/.test(typeof Element)?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:t=>ee(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString()),array:t=>ee(t)&&typeof t.length<"u"&&gn(t.splice)};function Jo(t){const{actions:e,Interactable:n,defaults:o}=t;n.prototype.draggable=ne.draggable,e.map.drag=ne,e.methodDict.drag="draggable",o.actions.drag=ne.defaults}function Ee({interaction:t}){if(t.prepared.name!=="drag")return;const e=t.prepared.axis;e==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):e==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}function mn({iEvent:t,interaction:e}){if(e.prepared.name!=="drag")return;const n=e.prepared.axis;if(n==="x"||n==="y"){const o=n==="x"?"y":"x";t.page[o]=e.coords.start.page[o],t.client[o]=e.coords.start.client[o],t.delta[o]=0}}const ne={id:"actions/drag",install:Jo,listeners:{"interactions:before-action-move":Ee,"interactions:action-resume":Ee,"interactions:action-move":mn,"auto-start:check":t=>{const{interaction:e,interactable:n,buttons:o}=t,i=n.options.drag;if(!(!(i&&i.enabled)||e.pointerIsDown&&/mouse|pointer/.test(e.pointerType)&&(o&n.options.drag.mouseButtons)===0))return t.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:function(e){return h.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):h.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:Ee,move:mn,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor(){return"move"}},vn=ne,ot={init:Qo,document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Mt(){}const Q=ot;function Qo(t){const e=t;ot.document=e.document,ot.DocumentFragment=e.DocumentFragment||Mt,ot.SVGElement=e.SVGElement||Mt,ot.SVGSVGElement=e.SVGSVGElement||Mt,ot.SVGElementInstance=e.SVGElementInstance||Mt,ot.Element=e.Element||Mt,ot.HTMLElement=e.HTMLElement||ot.Element,ot.Event=e.Event,ot.Touch=e.Touch||Mt,ot.PointerEvent=e.PointerEvent||e.MSPointerEvent}const it={init:Zo,supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null};function Zo(t){const e=Q.Element,n=t.navigator||{};it.supportsTouch="ontouchstart"in t||h.func(t.DocumentTouch)&&Q.document instanceof t.DocumentTouch,it.supportsPointerEvent=n.pointerEnabled!==!1&&!!Q.PointerEvent,it.isIOS=/iP(hone|od|ad)/.test(n.platform),it.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),it.isIe9=/MSIE 9/.test(n.userAgent),it.isOperaMobile=n.appName==="Opera"&&it.supportsTouch&&/Presto/.test(n.userAgent),it.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",it.pEventTypes=it.supportsPointerEvent?Q.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,it.wheelEvent=Q.document&&"onmousewheel"in Q.document?"mousewheel":"wheel"}const at=it;function Tt(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function yn(t,e){for(;h.element(t);){if(xt(t,e))return t;t=ct(t)}return null}function ct(t){let e=t.parentNode;if(h.docFrag(e)){for(;(e=e.host)&&h.docFrag(e););return e}return e}function xt(t,e){return bt!==pn&&(e=e.replace(/\/deep\//g," ")),t[at.prefixedMatchesSelector](e)}const Ie=t=>t.parentNode||t.host;function ti(t){let e=[],n;for(let o=0;o<t.length;o++){const i=t[o],r=t[n];if(!i||o===n)continue;if(!r){n=o;continue}const s=Ie(i),a=Ie(r);if(s===i.ownerDocument)continue;if(a===i.ownerDocument){n=o;continue}if(s===a){ei(i,r)&&(n=o);continue}e=e.length?e:bn(r);let l;if(r instanceof Q.HTMLElement&&i instanceof Q.SVGElement&&!(i instanceof Q.SVGSVGElement)){if(i===a)continue;l=i.ownerSVGElement}else l=i;const c=bn(l,r.ownerDocument);let u=0;for(;c[u]&&c[u]===e[u];)u++;const d=[c[u-1],c[u],e[u]];if(d[0]){let m=d[0].lastChild;for(;m;){if(m===d[1]){n=o,e=c;break}else if(m===d[2])break;m=m.previousSibling}}}return n}function bn(t,e){const n=[];let o=t,i;for(;(i=Ie(o))&&o!==e&&i!==o.ownerDocument;)n.unshift(o),o=i;return n}function ei(t,e){const n=parseInt(dt(t).getComputedStyle(t).zIndex,10)||0,o=parseInt(dt(e).getComputedStyle(e).zIndex,10)||0;return n>=o}function ze(t,e,n){for(;h.element(t);){if(xt(t,e))return!0;if(t=ct(t),t===n)return xt(t,e)}return!1}function xn(t){return t.correspondingUseElement||t}function ni(t){return t=t||bt,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function Te(t){const e=t instanceof Q.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function _e(t){const e=Te(t);if(!at.isIOS7&&e){const n=ni(dt(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e}function wn(t){const e=[];for(;t;)e.push(t),t=ct(t);return e}function Sn(t){return h.string(t)?(Q.document.querySelector(t),!0):!1}function T(t,e){for(const o in e)t[o]=e[o];return t}function En(t,e,n){return t==="parent"?ct(n):t==="self"?e.getRect(n):yn(n,t)}function Bt(t,e,n,o){let i=t;return h.string(i)?i=En(i,e,n):h.func(i)&&(i=i(...o)),h.element(i)&&(i=_e(i)),i}function oe(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function oi(t){return t&&!("left"in t&&"top"in t)&&(t=T({},t),t.left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t}function Oe(t){return t&&!("x"in t&&"y"in t)&&(t=T({},t),t.x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function ie(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function Ft(t,e,n){const o=t.options[n],r=o&&o.origin||t.options.origin,s=Bt(r,t,e,[t&&e]);return oe(s)||{x:0,y:0}}function _t(t,e,n){if(n=n||{},h.string(t)&&t.search(" ")!==-1&&(t=In(t)),h.array(t))return t.reduce((o,i)=>T(o,_t(i,e,n)),n);if(h.object(t)&&(e=t,t=""),h.func(e))n[t]=n[t]||[],n[t].push(e);else if(h.array(e))for(const o of e)_t(t,o,n);else if(h.object(e))for(const o in e){const i=In(o).map(r=>`${t}${r}`);_t(i,e[o],n)}return n}function In(t){return t.trim().split(/ +/)}const Wt=(t,e)=>Math.sqrt(t*t+e*e);function re(t,e){t.__set||(t.__set={});for(const n in e)typeof t[n]!="function"&&n!=="__set"&&Object.defineProperty(t,n,{get(){return n in t.__set?t.__set[n]:t.__set[n]=e[n]},set(o){t.__set[n]=o},configurable:!0});return t}function se(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function ii(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp}function ri(t,e){const n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n}function zn(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function Tn(t){return t instanceof Q.Event||t instanceof Q.Touch}function ae(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n}function _n(t,e){return e=e||{x:0,y:0},at.isOperaMobile&&Tn(t)?(ae("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):ae("page",t,e),e}function si(t,e){return e=e||{},at.isOperaMobile&&Tn(t)?ae("screen",t,e):ae("client",t,e),e}function qt(t){return h.number(t.pointerId)?t.pointerId:t.identifier}function ai(t,e,n){const o=e.length>1?On(e):e[0];_n(o,t.page),si(o,t.client),t.timeStamp=n}function Pe(t){const e=[];return h.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function On(t){const e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0};for(const n of t)for(const o in e)e[o]+=n[o];for(const n in e)e[n]/=t.length;return e}function De(t){if(!t.length)return null;const e=Pe(t),n=Math.min(e[0].pageX,e[1].pageX),o=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),r=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:o,left:n,top:o,right:i,bottom:r,width:i-n,height:r-o}}function Ce(t,e){const n=e+"X",o=e+"Y",i=Pe(t),r=i[0][n]-i[1][n],s=i[0][o]-i[1][o];return Wt(r,s)}function ke(t,e){const n=e+"X",o=e+"Y",i=Pe(t),r=i[1][n]-i[0][n],s=i[1][o]-i[0][o];return 180*Math.atan2(s,r)/Math.PI}function Pn(t){return h.string(t.pointerType)?t.pointerType:h.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof Q.Touch?"touch":"mouse"}function Dn(t){const e=h.func(t.composedPath)?t.composedPath():t.path;return[xn(e?e[0]:t.target),xn(t.currentTarget)]}function Xt(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}}function ci(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault(){}}}class ce{constructor(e){f(this,"immediatePropagationStopped",!1);f(this,"propagationStopped",!1);this._interaction=e}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}Object.defineProperty(ce.prototype,"interaction",{get(){return this._interaction._proxy},set(){}});const li=(t,e)=>t.indexOf(e)!==-1,ui=(t,e)=>t.splice(t.indexOf(e),1),Cn=(t,e)=>{for(const n of e)t.push(n);return t},Me=t=>Cn([],t),Yt=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},le=(t,e)=>t[Yt(t,e)];class ft extends ce{constructor(n,o,i){super(o._interaction);f(this,"dropzone");f(this,"dragEvent");f(this,"relatedTarget");f(this,"draggable");f(this,"propagationStopped",!1);f(this,"immediatePropagationStopped",!1);const{element:r,dropzone:s}=i==="dragleave"?n.prev:n.cur;this.type=i,this.target=r,this.currentTarget=r,this.dropzone=s,this.dragEvent=o,this.relatedTarget=o.target,this.draggable=o.interactable,this.timeStamp=o.timeStamp}reject(){const{dropState:n}=this._interaction;if(!(this.type!=="dropactivate"&&(!this.dropzone||n.cur.dropzone!==this.dropzone||n.cur.element!==this.target)))if(n.prev.dropzone=this.dropzone,n.prev.element=this.target,n.rejected=!0,n.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){const o=n.activeDrops,i=Yt(o,({dropzone:s,element:a})=>s===this.dropzone&&a===this.target);n.activeDrops.splice(i,1);const r=new ft(n,this.dragEvent,"dropdeactivate");r.dropzone=this.dropzone,r.target=this.target,this.dropzone.fire(r)}else this.dropzone.fire(new ft(n,this.dragEvent,"dragleave"))}preventDefault(){}stopPropagation(){this.propagationStopped=!0}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}}function di(t){const{actions:e,interactStatic:n,Interactable:o,defaults:i}=t;t.usePlugin(vn),o.prototype.dropzone=function(r){return pi(this,r)},o.prototype.dropCheck=function(r,s,a,l,c,u){return hi(this,r,s,a,l,c,u)},n.dynamicDrop=function(r){return h.bool(r)?(t.dynamicDrop=r,n):t.dynamicDrop},T(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,i.actions.drop=Rn.defaults}function fi({interactables:t},e){const n=[];for(const o of t.list){if(!o.options.drop.enabled)continue;const i=o.options.drop.accept;if(h.element(i)&&i!==e||h.string(i)&&!xt(e,i)||h.func(i)&&!i({dropzone:o,draggableElement:e}))continue;const r=h.string(o.target)?o._context.querySelectorAll(o.target):h.array(o.target)?o.target:[o.target];for(const s of r)s!==e&&n.push({dropzone:o,element:s,rect:o.getRect(s)})}return n}function kn(t,e){for(const{dropzone:n,element:o}of t.slice())e.dropzone=n,e.target=o,n.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}function Ae(t,e){const n=fi(t,e);for(const o of n)o.rect=o.dropzone.getRect(o.element);return n}function Mn({dropState:t,interactable:e,element:n},o,i){const r=[];for(const{dropzone:a,element:l,rect:c}of t.activeDrops)r.push(a.dropCheck(o,i,e,n,l,c)?l:null);const s=ti(r);return t.activeDrops[s]||null}function Re(t,e,n){const{dropState:o}=t,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(i.activate=new ft(o,n,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),n.type==="dragend"&&(i.deactivate=new ft(o,n,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),o.rejected||(o.cur.element!==o.prev.element&&(o.prev.dropzone&&(i.leave=new ft(o,n,"dragleave"),n.dragLeave=i.leave.target=o.prev.element,n.prevDropzone=i.leave.dropzone=o.prev.dropzone),o.cur.dropzone&&(i.enter=new ft(o,n,"dragenter"),n.dragEnter=o.cur.element,n.dropzone=o.cur.dropzone)),n.type==="dragend"&&o.cur.dropzone&&(i.drop=new ft(o,n,"drop"),n.dropzone=o.cur.dropzone,n.relatedTarget=o.cur.element),n.type==="dragmove"&&o.cur.dropzone&&(i.move=new ft(o,n,"dropmove"),i.move.dragmove=n,n.dropzone=o.cur.dropzone)),i}function $e(t,e){const{dropState:n}=t,{activeDrops:o,cur:i,prev:r}=n;e.leave&&r.dropzone.fire(e.leave),e.enter&&i.dropzone.fire(e.enter),e.move&&i.dropzone.fire(e.move),e.drop&&i.dropzone.fire(e.drop),e.deactivate&&kn(o,e.deactivate),n.prev.dropzone=i.dropzone,n.prev.element=i.element}function An({interaction:t,iEvent:e,event:n},o){if(e.type!=="dragmove"&&e.type!=="dragend")return;const{dropState:i}=t;o.dynamicDrop&&(i.activeDrops=Ae(o,t.element));const r=e,s=Mn(t,r,n);i.rejected=i.rejected&&!!s&&s.dropzone===i.cur.dropzone&&s.element===i.cur.element,i.cur.dropzone=s&&s.dropzone,i.cur.element=s&&s.element,i.events=Re(t,n,r)}function pi(t,e){if(h.object(e)){if(t.options.drop.enabled=e.enabled!==!1,e.listeners){const n=_t(e.listeners),o=Object.keys(n).reduce((i,r)=>{const s=/^(enter|leave)/.test(r)?`drag${r}`:/^(activate|deactivate|move)/.test(r)?`drop${r}`:r;return i[s]=n[r],i},{});t.off(t.options.drop.listeners),t.on(o),t.options.drop.listeners=o}return h.func(e.ondrop)&&t.on("drop",e.ondrop),h.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),h.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),h.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),h.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),h.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:h.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return h.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}function hi(t,e,n,o,i,r,s){let a=!1;if(!(s=s||t.getRect(r)))return t.options.drop.checker?t.options.drop.checker(e,n,a,t,r,o,i):!1;const l=t.options.drop.overlap;if(l==="pointer"){const u=Ft(o,i,"drag"),d=_n(e);d.x+=u.x,d.y+=u.y;const m=d.x>s.left&&d.x<s.right,v=d.y>s.top&&d.y<s.bottom;a=m&&v}const c=o.getRect(i);if(c&&l==="center"){const u=c.left+c.width/2,d=c.top+c.height/2;a=u>=s.left&&u<=s.right&&d>=s.top&&d<=s.bottom}return c&&h.number(l)&&(a=Math.max(0,Math.min(s.right,c.right)-Math.max(s.left,c.left))*Math.max(0,Math.min(s.bottom,c.bottom)-Math.max(s.top,c.top))/(c.width*c.height)>=l),t.options.drop.checker&&(a=t.options.drop.checker(e,n,a,t,r,o,i)),a}const Rn={id:"actions/drop",install:di,listeners:{"interactions:before-action-start":({interaction:t})=>{t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":({interaction:t,event:e,iEvent:n},o)=>{if(t.prepared.name!=="drag")return;const{dropState:i}=t;i.activeDrops=null,i.events=null,i.activeDrops=Ae(o,t.element),i.events=Re(t,e,n),i.events.activate&&(kn(i.activeDrops,i.events.activate),o.fire("actions/drop:start",{interaction:t,dragEvent:n}))},"interactions:action-move":An,"interactions:after-action-move":({interaction:t,iEvent:e},n)=>{t.prepared.name==="drag"&&($e(t,t.dropState.events),n.fire("actions/drop:move",{interaction:t,dragEvent:e}),t.dropState.events={})},"interactions:action-end":(t,e)=>{if(t.interaction.prepared.name!=="drag")return;const{interaction:n,iEvent:o}=t;An(t,e),$e(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:o})},"interactions:stop":({interaction:t})=>{if(t.prepared.name!=="drag")return;const{dropState:e}=t;e&&(e.activeDrops=null,e.events=null,e.cur.dropzone=null,e.cur.element=null,e.prev.dropzone=null,e.prev.element=null,e.rejected=!1)}},getActiveDrops:Ae,getDrop:Mn,getDropEvents:Re,fireDropEvents:$e,defaults:{enabled:!1,accept:null,overlap:"pointer"}},gi=Rn;function mi(t){const{actions:e,Interactable:n,defaults:o}=t;n.prototype.gesturable=function(i){return h.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):h.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},e.map.gesture=Le,e.methodDict.gesture="gesturable",o.actions.gesture=Le.defaults}function Ne({interaction:t,iEvent:e,phase:n}){if(t.prepared.name!=="gesture")return;const o=t.pointers.map(a=>a.pointer),i=n==="start",r=n==="end",s=t.interactable.options.deltaSource;if(e.touches=[o[0],o[1]],i)e.distance=Ce(o,s),e.box=De(o),e.scale=1,e.ds=0,e.angle=ke(o,s),e.da=0,t.gesture.startDistance=e.distance,t.gesture.startAngle=e.angle;else if(r){const a=t.prevEvent;e.distance=a.distance,e.box=a.box,e.scale=a.scale,e.ds=0,e.angle=a.angle,e.da=0}else e.distance=Ce(o,s),e.box=De(o),e.scale=e.distance/t.gesture.startDistance,e.angle=ke(o,s),e.ds=e.scale-t.gesture.scale,e.da=e.angle-t.gesture.angle;t.gesture.distance=e.distance,t.gesture.angle=e.angle,h.number(e.scale)&&e.scale!==1/0&&!isNaN(e.scale)&&(t.gesture.scale=e.scale)}const Le={id:"actions/gesture",before:["actions/drag","actions/resize"],install:mi,listeners:{"interactions:action-start":Ne,"interactions:action-move":Ne,"interactions:action-end":Ne,"interactions:new":({interaction:t})=>{t.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":t=>{if(t.interaction.pointers.length<2)return;const e=t.interactable.options.gesture;if(!!(e&&e.enabled))return t.action={name:"gesture"},!1}},defaults:{},getCursor(){return""}},vi=Le;function yi(t){const{actions:e,browser:n,Interactable:o,defaults:i}=t;pt.cursors=Si(n),pt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,o.prototype.resizable=function(r){return xi(this,r,t)},e.map.resize=pt,e.methodDict.resize="resizable",i.actions.resize=pt.defaults}function bi(t){const{interaction:e,interactable:n,element:o,rect:i,buttons:r}=t;if(!i)return;const s=T({},e.coords.cur.page),a=n.options.resize;if(!(!(a&&a.enabled)||e.pointerIsDown&&/mouse|pointer/.test(e.pointerType)&&(r&a.mouseButtons)===0)){if(h.object(a.edges)){const l={left:!1,right:!1,top:!1,bottom:!1};for(const c in l)l[c]=wi(c,a.edges[c],s,e._latestPointer.eventTarget,o,i,a.margin||pt.defaultMargin);l.left=l.left&&!l.right,l.top=l.top&&!l.bottom,(l.left||l.right||l.top||l.bottom)&&(t.action={name:"resize",edges:l})}else{const l=a.axis!=="y"&&s.x>i.right-pt.defaultMargin,c=a.axis!=="x"&&s.y>i.bottom-pt.defaultMargin;(l||c)&&(t.action={name:"resize",axes:(l?"x":"")+(c?"y":"")})}return t.action?!1:void 0}}function xi(t,e,n){return h.object(e)?(t.options.resize.enabled=e.enabled!==!1,t.setPerAction("resize",e),t.setOnEvents("resize",e),h.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:e.axis===null&&(t.options.resize.axis=n.defaults.actions.resize.axis),h.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:h.bool(e.square)&&(t.options.resize.square=e.square),t):h.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}function wi(t,e,n,o,i,r,s){if(!e)return!1;if(e===!0){const a=h.number(r.width)?r.width:r.right-r.left,l=h.number(r.height)?r.height:r.bottom-r.top;if(s=Math.min(s,Math.abs((t==="left"||t==="right"?a:l)/2)),a<0&&(t==="left"?t="right":t==="right"&&(t="left")),l<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){const c=a>=0?r.left:r.right;return n.x<c+s}if(t==="top"){const c=l>=0?r.top:r.bottom;return n.y<c+s}if(t==="right")return n.x>(a>=0?r.right:r.left)-s;if(t==="bottom")return n.y>(l>=0?r.bottom:r.top)-s}return h.element(o)?h.element(e)?e===o:ze(o,e,i):!1}function Si(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}function Ei({iEvent:t,interaction:e}){if(e.prepared.name!=="resize"||!e.prepared.edges)return;const n=t,o=e.rect;e._rects={start:T({},o),corrected:T({},o),previous:T({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},n.edges=e.prepared.edges,n.rect=e._rects.corrected,n.deltaRect=e._rects.delta}function Ii({iEvent:t,interaction:e}){if(e.prepared.name!=="resize"||!e.prepared.edges)return;const n=t,i=e.interactable.options.resize.invert,r=i==="reposition"||i==="negate",s=e.rect,{start:a,corrected:l,delta:c,previous:u}=e._rects;if(T(u,l),r){if(T(l,s),i==="reposition"){if(l.top>l.bottom){const d=l.top;l.top=l.bottom,l.bottom=d}if(l.left>l.right){const d=l.left;l.left=l.right,l.right=d}}}else l.top=Math.min(s.top,a.bottom),l.bottom=Math.max(s.bottom,a.top),l.left=Math.min(s.left,a.right),l.right=Math.max(s.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(const d in l)c[d]=l[d]-u[d];n.edges=e.prepared.edges,n.rect=l,n.deltaRect=c}function zi({iEvent:t,interaction:e}){if(e.prepared.name!=="resize"||!e.prepared.edges)return;const n=t;n.edges=e.prepared.edges,n.rect=e._rects.corrected,n.deltaRect=e._rects.delta}function $n({iEvent:t,interaction:e}){if(e.prepared.name!=="resize"||!e.resizeAxes)return;const n=e.interactable.options,o=t;n.resize.square?(e.resizeAxes==="y"?o.delta.x=o.delta.y:o.delta.y=o.delta.x,o.axes="xy"):(o.axes=e.resizeAxes,e.resizeAxes==="x"?o.delta.y=0:e.resizeAxes==="y"&&(o.delta.x=0))}const pt={id:"actions/resize",before:["actions/drag"],install:yi,listeners:{"interactions:new":({interaction:t})=>{t.resizeAxes="xy"},"interactions:action-start":t=>{Ei(t),$n(t)},"interactions:action-move":t=>{Ii(t),$n(t)},"interactions:action-end":zi,"auto-start:check":bi},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor({edges:t,axis:e,name:n}){const o=pt.cursors;let i=null;if(e)i=o[n+e];else if(t){let r="";for(const s of["top","bottom","left","right"])t[s]&&(r+=s);i=o[r]}return i},defaultMargin:null},Ti=pt,_i={id:"actions",install(t){t.usePlugin(vi),t.usePlugin(Ti),t.usePlugin(vn),t.usePlugin(gi)}};let Nn=0,ht,Ot;function Oi(t){if(ht=t.requestAnimationFrame,Ot=t.cancelAnimationFrame,!ht){const e=["ms","moz","webkit","o"];for(const n of e)ht=t[`${n}RequestAnimationFrame`],Ot=t[`${n}CancelAnimationFrame`]||t[`${n}CancelRequestAnimationFrame`]}ht=ht&&ht.bind(t),Ot=Ot&&Ot.bind(t),ht||(ht=e=>{const n=Date.now(),o=Math.max(0,16-(n-Nn)),i=t.setTimeout(()=>{e(n+o)},o);return Nn=n+o,i},Ot=e=>clearTimeout(e))}const wt={request:t=>ht(t),cancel:t=>Ot(t),init:Oi};function Pi(t){const{defaults:e,actions:n}=t;t.autoScroll=C,C.now=()=>t.now(),n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=C.defaults}const C={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start(t){C.isScrolling=!0,wt.cancel(C.i),t.autoScroll=C,C.interaction=t,C.prevTime=C.now(),C.i=wt.request(C.scroll)},stop(){C.isScrolling=!1,C.interaction&&(C.interaction.autoScroll=null),wt.cancel(C.i)},scroll(){const{interaction:t}=C,{interactable:e,element:n}=t,o=t.prepared.name,i=e.options[o].autoScroll,r=Ln(i.container,e,n),s=C.now(),a=(s-C.prevTime)/1e3,l=i.speed*a;if(l>=1){const c={x:C.x*l,y:C.y*l};if(c.x||c.y){const u=Hn(r);h.window(r)?r.scrollBy(c.x,c.y):r&&(r.scrollLeft+=c.x,r.scrollTop+=c.y);const d=Hn(r),m={x:d.x-u.x,y:d.y-u.y};(m.x||m.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:m,interaction:t,container:r})}C.prevTime=s}C.isScrolling&&(wt.cancel(C.i),C.i=wt.request(C.scroll))},check(t,e){var n;return(n=t.options[e].autoScroll)==null?void 0:n.enabled},onInteractionMove({interaction:t,pointer:e}){if(!(t.interacting()&&C.check(t.interactable,t.prepared.name)))return;if(t.simulation){C.x=C.y=0;return}let n,o,i,r;const{interactable:s,element:a}=t,l=t.prepared.name,c=s.options[l].autoScroll,u=Ln(c.container,s,a);if(h.window(u))r=e.clientX<C.margin,n=e.clientY<C.margin,o=e.clientX>u.innerWidth-C.margin,i=e.clientY>u.innerHeight-C.margin;else{const d=Te(u);r=e.clientX<d.left+C.margin,n=e.clientY<d.top+C.margin,o=e.clientX>d.right-C.margin,i=e.clientY>d.bottom-C.margin}C.x=o?1:r?-1:0,C.y=i?1:n?-1:0,C.isScrolling||(C.margin=c.margin,C.speed=c.speed,C.start(t))}};function Ln(t,e,n){return(h.string(t)?En(t,e,n):t)||dt(n)}function Hn(t){return h.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}const Di={id:"auto-scroll",install:Pi,listeners:{"interactions:new":({interaction:t})=>{t.autoScroll=null},"interactions:destroy":({interaction:t})=>{t.autoScroll=null,C.stop(),C.interaction&&(C.interaction=null)},"interactions:stop":C.stop,"interactions:action-move":t=>C.onInteractionMove(t)}};function Gt(t,e){let n=!1;return function(){return n||(bt.console.warn(e),n=!0),t.apply(this,arguments)}}function He(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function Ci(t){const{Interactable:e}=t;e.prototype.getAction=function(o,i,r,s){const a=ki(this,i,r,s,t);return this.options.actionChecker?this.options.actionChecker(o,i,a,this,s,r):a},e.prototype.ignoreFrom=Gt(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=Gt(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=Ai,e.prototype.styleCursor=Mi}function ki(t,e,n,o,i){const r=t.getRect(o),s=e.buttons||{0:1,1:4,3:8,4:16}[e.button],a={action:null,interactable:t,interaction:n,element:o,rect:r,buttons:s};return i.fire("auto-start:check",a),a.action}function Mi(t){return h.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Ai(t){return h.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}const Ri={id:"auto-start/interactableMethods",install:Ci};function $i(t){const{interactStatic:e,defaults:n}=t;t.usePlugin(Ri),n.base.actionChecker=null,n.base.styleCursor=!0,T(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=o=>Wn(o,t),t.autoStart={maxInteractions:1/0,withinInteractionLimit:ue,cursorElement:null}}function Ni({interaction:t,pointer:e,event:n,eventTarget:o},i){if(t.interacting())return;const r=Bn(t,e,n,o,i);Fn(t,r,i)}function Li({interaction:t,pointer:e,event:n,eventTarget:o},i){if(t.pointerType!=="mouse"||t.pointerIsDown||t.interacting())return;const r=Bn(t,e,n,o,i);Fn(t,r,i)}function Hi(t,e){const{interaction:n}=t;if(!n.pointerIsDown||n.interacting()||!n.pointerWasMoved||!n.prepared.name)return;e.fire("autoStart:before-start",t);const{interactable:o}=n,i=n.prepared.name;i&&o&&(o.options[i].manualStart||!ue(o,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,o,n.element),qn(n,e)))}function ji({interaction:t},e){const{interactable:n}=t;n&&n.options.styleCursor&&je(t.element,"",e)}function jn(t,e,n,o,i){return e.testIgnoreAllow(e.options[t.name],n,o)&&e.options[t.name].enabled&&ue(e,n,t,i)?t:null}function Bi(t,e,n,o,i,r,s){for(let a=0,l=o.length;a<l;a++){const c=o[a],u=i[a],d=c.getAction(e,n,t,u);if(!d)continue;const m=jn(d,c,u,r,s);if(m)return{action:m,interactable:c,element:u}}return{action:null,interactable:null,element:null}}function Bn(t,e,n,o,i){let r=[],s=[],a=o;function l(c){r.push(c),s.push(a)}for(;h.element(a);){r=[],s=[],i.interactables.forEachMatch(a,l);const c=Bi(t,e,n,r,s,o,i);if(c.action&&!c.interactable.options[c.action.name].manualStart)return c;a=ct(a)}return{action:null,interactable:null,element:null}}function Fn(t,{action:e,interactable:n,element:o},i){e=e||{name:null},t.interactable=n,t.element=o,He(t.prepared,e),t.rect=n&&e.name?n.getRect(o):null,qn(t,i),i.fire("autoStart:prepared",{interaction:t})}function ue(t,e,n,o){const i=t.options,r=i[n.name].max,s=i[n.name].maxPerElement,a=o.autoStart.maxInteractions;let l=0,c=0,u=0;if(!(r&&s&&a))return!1;for(const d of o.interactions.list){const m=d.prepared.name;if(!!d.interacting()){if(l++,l>=a)return!1;if(d.interactable===t&&(c+=m===n.name?1:0,c>=r||d.element===e&&(u++,m===n.name&&u>=s)))return!1}}return a>0}function Wn(t,e){return h.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function je(t,e,n){const{cursorElement:o}=n.autoStart;o&&o!==t&&(o.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function qn(t,e){const{interactable:n,element:o,prepared:i}=t;if(!(t.pointerType==="mouse"&&n&&n.options.styleCursor)){e.autoStart.cursorElement&&je(e.autoStart.cursorElement,"",e);return}let r="";if(i.name){const s=n.options[i.name].cursorChecker;h.func(s)?r=s(i,n,o,t._interacting):r=e.actions.map[i.name].getCursor(i)}je(t.element,r||"",e)}const Be={id:"auto-start/base",before:["actions"],install:$i,listeners:{"interactions:down":Ni,"interactions:move":(t,e)=>{Li(t,e),Hi(t,e)},"interactions:stop":ji},maxInteractions:Wn,withinInteractionLimit:ue,validateAction:jn};function Fi({interaction:t,eventTarget:e,dx:n,dy:o},i){if(t.prepared.name!=="drag")return;const r=Math.abs(n),s=Math.abs(o),a=t.interactable.options.drag,l=a.startAxis,c=r>s?"x":r<s?"y":"xy";if(t.prepared.axis=a.lockAxis==="start"?c[0]:a.lockAxis,c!=="xy"&&l!=="xy"&&l!==c){t.prepared.name=null;let u=e;const d=function(m){if(m===t.interactable)return;const v=t.interactable.options.drag;if(!v.manualStart&&m.testIgnoreAllow(v,u,e)){const y=m.getAction(t.downPointer,t.downEvent,t,u);if(y&&y.name==="drag"&&Wi(c,m)&&Be.validateAction(y,m,u,e,i))return m}};for(;h.element(u);){const m=i.interactables.forEachMatch(u,d);if(m){t.prepared.name="drag",t.interactable=m,t.element=u;break}u=ct(u)}}}function Wi(t,e){if(!e)return!1;const n=e.options.drag.startAxis;return t==="xy"||n==="xy"||n===t}const qi={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":Fi}};function Xi(t){const{defaults:e}=t;t.usePlugin(Be),e.perAction.hold=0,e.perAction.delay=0}function Fe(t){const e=t.prepared&&t.prepared.name;if(!e)return null;const n=t.interactable.options;return n[e].hold||n[e].delay}const Yi={id:"auto-start/hold",install:Xi,listeners:{"interactions:new":({interaction:t})=>{t.autoStartHoldTimer=null},"autoStart:prepared":({interaction:t})=>{const e=Fe(t);e>0&&(t.autoStartHoldTimer=setTimeout(()=>{t.start(t.prepared,t.interactable,t.element)},e))},"interactions:move":({interaction:t,duplicate:e})=>{t.autoStartHoldTimer&&t.pointerWasMoved&&!e&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":({interaction:t})=>{Fe(t)>0&&(t.prepared.name=null)}},getHoldDuration:Fe},Gi={id:"auto-start",install(t){t.usePlugin(Be),t.usePlugin(Yi),t.usePlugin(qi)}};function Vi(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):h.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function Ui(t,e,n){const o=t.options.preventDefault;if(o!=="never"){if(o==="always"){n.preventDefault();return}if(e.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){const i=dt(n.target).document,r=e.getDocOptions(i);if(!(r&&r.events)||r.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||h.element(n.target)&&xt(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}}function Ki({interaction:t,event:e}){t.interactable&&t.interactable.checkAndPreventDefault(e)}function Ji(t){const{Interactable:e}=t;e.prototype.preventDefault=Vi,e.prototype.checkAndPreventDefault=function(n){return Ui(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener(n){for(const o of t.interactions.list)if(o.element&&(o.element===n.target||Tt(o.element,n.target))){o.interactable.checkAndPreventDefault(n);return}}})}const Xn={id:"core/interactablePreventDefault",install:Ji,listeners:["down","move","up","cancel"].reduce((t,e)=>(t[`interactions:${e}`]=Ki,t),{})},Qi={};var At;(function(t){t.touchAction="touchAction",t.boxSizing="boxSizing",t.noListeners="noListeners"})(At||(At={}));const Yn="[interact.js] ",We={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},Zi=!1;function tr(t,{logger:e}={}){const{Interactable:n,defaults:o}=t;t.logger=e||console,o.base.devTools={ignore:{}},n.prototype.devTools=function(i){return i?(T(this.options.devTools,i),this):this.options.devTools},t.usePlugin(Qi)}const Gn=[{name:At.touchAction,perform({element:t}){return!er(t,"touchAction",/pan-|pinch|none/)},getInfo({element:t}){return[t,We.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:At.boxSizing,perform(t){const{element:e}=t;return t.prepared.name==="resize"&&e instanceof Q.HTMLElement&&!Vn(e,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo({element:t}){return[t,We.boxSizing]}},{name:At.noListeners,perform(t){const e=t.prepared.name;return!(t.interactable.events.types[`${e}move`]||[]).length},getInfo(t){return[t.prepared.name,t.interactable]},text:"There are no listeners set for this action"}];function Vn(t,e,n){const o=t.style[e]||bt.getComputedStyle(t)[e];return n.test((o||"").toString())}function er(t,e,n){let o=t;for(;h.element(o);){if(Vn(o,e,n))return!0;o=ct(o)}return!1}const Un="dev-tools",nr=Zi?{id:Un,install:()=>{}}:{id:Un,install:tr,listeners:{"interactions:action-start":({interaction:t},e)=>{for(const n of Gn){const o=t.interactable&&t.interactable.options;!(o&&o.devTools&&o.devTools.ignore[n.name])&&n.perform(t)&&e.logger.warn(Yn+n.text,...n.getInfo(t))}}},checks:Gn,CheckName:At,links:We,prefix:Yn};function Rt(t){const e={};for(const n in t){const o=t[n];h.plainObject(o)?e[n]=Rt(o):h.array(o)?e[n]=Me(o):e[n]=o}return e}class qe{constructor(e){f(this,"states",[]);f(this,"startOffset",{left:0,right:0,top:0,bottom:0});f(this,"startDelta");f(this,"result");f(this,"endResult");f(this,"edges");f(this,"interaction");this.interaction=e,this.result=de()}start({phase:e},n){const{interaction:o}=this,i=or(o);this.prepareStates(i),this.edges=T({},o.edges),this.startOffset=ir(o.rect,n),this.startDelta={x:0,y:0};const r=this.fillArg({phase:e,pageCoords:n,preEnd:!1});return this.result=de(),this.startAll(r),this.result=this.setAll(r)}fillArg(e){const{interaction:n}=this;return e.interaction=n,e.interactable=n.interactable,e.element=n.element,e.rect=e.rect||n.rect,e.edges=this.edges,e.startOffset=this.startOffset,e}startAll(e){for(const n of this.states)n.methods.start&&(e.state=n,n.methods.start(e))}setAll(e){const{phase:n,preEnd:o,skipModifiers:i,rect:r}=e;e.coords=T({},e.pageCoords),e.rect=T({},r);const s=i?this.states.slice(i):this.states,a=de(e.coords,e.rect);for(const d of s){var l;const{options:m}=d,v=T({},e.coords);let y=null;(l=d.methods)!=null&&l.set&&this.shouldDo(m,o,n)&&(e.state=d,y=d.methods.set(e),ie(this.interaction.edges,e.rect,{x:e.coords.x-v.x,y:e.coords.y-v.y})),a.eventProps.push(y)}a.delta.x=e.coords.x-e.pageCoords.x,a.delta.y=e.coords.y-e.pageCoords.y,a.rectDelta.left=e.rect.left-r.left,a.rectDelta.right=e.rect.right-r.right,a.rectDelta.top=e.rect.top-r.top,a.rectDelta.bottom=e.rect.bottom-r.bottom;const c=this.result.coords,u=this.result.rect;if(c&&u){const d=a.rect.left!==u.left||a.rect.right!==u.right||a.rect.top!==u.top||a.rect.bottom!==u.bottom;a.changed=d||c.x!==a.coords.x||c.y!==a.coords.y}return a}applyToInteraction(e){const{interaction:n}=this,{phase:o}=e,i=n.coords.cur,r=n.coords.start,{result:s,startDelta:a}=this,l=s.delta;o==="start"&&T(this.startDelta,s.delta);for(const[d,m]of[[r,a],[i,l]])d.page.x+=m.x,d.page.y+=m.y,d.client.x+=m.x,d.client.y+=m.y;const{rectDelta:c}=this.result,u=e.rect||n.rect;u.left+=c.left,u.right+=c.right,u.top+=c.top,u.bottom+=c.bottom,u.width=u.right-u.left,u.height=u.bottom-u.top}setAndApply(e){const{interaction:n}=this,{phase:o,preEnd:i,skipModifiers:r}=e,s=this.setAll(this.fillArg({preEnd:i,phase:o,pageCoords:e.modifiedCoords||n.coords.cur.page}));if(this.result=s,!s.changed&&(!r||r<this.states.length)&&n.interacting())return!1;if(e.modifiedCoords){const{page:a}=n.coords.cur,l={x:e.modifiedCoords.x-a.x,y:e.modifiedCoords.y-a.y};s.coords.x+=l.x,s.coords.y+=l.y,s.delta.x+=l.x,s.delta.y+=l.y}this.applyToInteraction(e)}beforeEnd(e){const{interaction:n,event:o}=e,i=this.states;if(!i||!i.length)return;let r=!1;for(const s of i){e.state=s;const{options:a,methods:l}=s,c=l.beforeEnd&&l.beforeEnd(e);if(c)return this.endResult=c,!1;r=r||!r&&this.shouldDo(a,!0,e.phase,!0)}r&&n.move({event:o,preEnd:!0})}stop(e){const{interaction:n}=e;if(!this.states||!this.states.length)return;const o=T({states:this.states,interactable:n.interactable,element:n.element,rect:null},e);this.fillArg(o);for(const i of this.states)o.state=i,i.methods.stop&&i.methods.stop(o);this.states=null,this.endResult=null}prepareStates(e){this.states=[];for(let n=0;n<e.length;n++){const{options:o,methods:i,name:r}=e[n];this.states.push({options:o,methods:i,index:n,name:r})}return this.states}restoreInteractionCoords({interaction:{coords:e,rect:n,modification:o}}){if(!o.result)return;const{startDelta:i}=o,{delta:r,rectDelta:s}=o.result,a=[[e.start,i],[e.cur,r]];for(const[l,c]of a)l.page.x-=c.x,l.page.y-=c.y,l.client.x-=c.x,l.client.y-=c.y;n.left-=s.left,n.right-=s.right,n.top-=s.top,n.bottom-=s.bottom}shouldDo(e,n,o,i){return!(!e||e.enabled===!1||i&&!e.endOnly||e.endOnly&&!n||o==="start"&&!e.setStart)}copyFrom(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.edges=e.edges,this.states=e.states.map(n=>Rt(n)),this.result=de(T({},e.result.coords),T({},e.result.rect))}destroy(){for(const e in this)this[e]=null}}function de(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function or(t){const e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(o=>{const i=e[o];return i&&i.enabled&&{options:i,methods:i._methods}}).filter(o=>!!o)}function ir(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}function St(t,e){const{defaults:n}=t,o={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},i=r=>{const s=r||{};s.enabled=s.enabled!==!1;for(const l in n)l in s||(s[l]=n[l]);const a={options:s,methods:o,name:e,enable:()=>(s.enabled=!0,a),disable:()=>(s.enabled=!1,a)};return a};return e&&typeof e=="string"&&(i._defaults=n,i._methods=o),i}function Vt({iEvent:t,interaction:e}){const n=e.modification.result;n&&(t.modifiers=n.eventProps)}const Kn={id:"modifiers/base",before:["actions"],install:t=>{t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":({interaction:t})=>{t.modification=new qe(t)},"interactions:before-action-start":t=>{const e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":t=>t.interaction.modification.setAndApply(t),"interactions:before-action-end":t=>t.interaction.modification.beforeEnd(t),"interactions:action-start":Vt,"interactions:action-move":Vt,"interactions:action-end":Vt,"interactions:after-action-start":t=>t.interaction.modification.restoreInteractionCoords(t),"interactions:after-action-move":t=>t.interaction.modification.restoreInteractionCoords(t),"interactions:stop":t=>t.interaction.modification.stop(t)}},Jn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};class Xe extends ce{constructor(n,o,i,r,s,a,l){super(n);f(this,"relatedTarget",null);f(this,"screenX");f(this,"screenY");f(this,"button");f(this,"buttons");f(this,"ctrlKey");f(this,"shiftKey");f(this,"altKey");f(this,"metaKey");f(this,"page");f(this,"client");f(this,"delta");f(this,"rect");f(this,"x0");f(this,"y0");f(this,"t0");f(this,"dt");f(this,"duration");f(this,"clientX0");f(this,"clientY0");f(this,"velocity");f(this,"speed");f(this,"swipe");f(this,"axes");f(this,"preEnd");s=s||n.element;const c=n.interactable,u=(c&&c.options||Jn).deltaSource,d=Ft(c,s,i),m=r==="start",v=r==="end",y=m?this:n.prevEvent,_=m?n.coords.start:v?{page:y.page,client:y.client,timeStamp:n.coords.cur.timeStamp}:n.coords.cur;this.page=T({},_.page),this.client=T({},_.client),this.rect=T({},n.rect),this.timeStamp=_.timeStamp,v||(this.page.x-=d.x,this.page.y-=d.y,this.client.x-=d.x,this.client.y-=d.y),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.button=o.button,this.buttons=o.buttons,this.target=s,this.currentTarget=s,this.preEnd=a,this.type=l||i+(r||""),this.interactable=c,this.t0=m?n.pointers[n.pointers.length-1].downTime:y.t0,this.x0=n.coords.start.page.x-d.x,this.y0=n.coords.start.page.y-d.y,this.clientX0=n.coords.start.client.x-d.x,this.clientY0=n.coords.start.client.y-d.y,m||v?this.delta={x:0,y:0}:this.delta={x:this[u].x-y[u].x,y:this[u].y-y[u].y},this.dt=n.coords.delta.timeStamp,this.duration=this.timeStamp-this.t0,this.velocity=T({},n.coords.velocity[u]),this.speed=Wt(this.velocity.x,this.velocity.y),this.swipe=v||r==="inertiastart"?this.getSwipe():null}getSwipe(){const n=this._interaction;if(n.prevEvent.speed<600||this.timeStamp-n.prevEvent.timeStamp>150)return null;let o=180*Math.atan2(n.prevEvent.velocityY,n.prevEvent.velocityX)/Math.PI;const i=22.5;o<0&&(o+=360);const r=135-i<=o&&o<225+i,s=225-i<=o&&o<315+i,a=!r&&(315-i<=o||o<45+i),l=!s&&45-i<=o&&o<135+i;return{up:s,down:l,left:r,right:a,angle:o,speed:n.prevEvent.speed,velocity:{x:n.prevEvent.velocityX,y:n.prevEvent.velocityY}}}preventDefault(){}stopImmediatePropagation(){this.immediatePropagationStopped=this.propagationStopped=!0}stopPropagation(){this.propagationStopped=!0}}Object.defineProperties(Xe.prototype,{pageX:{get(){return this.page.x},set(t){this.page.x=t}},pageY:{get(){return this.page.y},set(t){this.page.y=t}},clientX:{get(){return this.client.x},set(t){this.client.x=t}},clientY:{get(){return this.client.y},set(t){this.client.y=t}},dx:{get(){return this.delta.x},set(t){this.delta.x=t}},dy:{get(){return this.delta.y},set(t){this.delta.y=t}},velocityX:{get(){return this.velocity.x},set(t){this.velocity.x=t}},velocityY:{get(){return this.velocity.y},set(t){this.velocity.y=t}}});class rr{constructor(e,n,o,i,r){f(this,"id");f(this,"pointer");f(this,"event");f(this,"downTime");f(this,"downTarget");this.id=e,this.pointer=n,this.event=o,this.downTime=i,this.downTarget=r}}let Ye;(function(t){t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy=""})(Ye||(Ye={}));let fe;(function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""})(fe||(fe={}));let sr=0;class ar{constructor({pointerType:e,scopeFire:n}){f(this,"interactable",null);f(this,"element",null);f(this,"rect",null);f(this,"_rects");f(this,"edges",null);f(this,"_scopeFire");f(this,"prepared",{name:null,axis:null,edges:null});f(this,"pointerType");f(this,"pointers",[]);f(this,"downEvent",null);f(this,"downPointer",{});f(this,"_latestPointer",{pointer:null,event:null,eventTarget:null});f(this,"prevEvent",null);f(this,"pointerIsDown",!1);f(this,"pointerWasMoved",!1);f(this,"_interacting",!1);f(this,"_ending",!1);f(this,"_stopped",!0);f(this,"_proxy",null);f(this,"simulation",null);f(this,"doMove",Gt(function(e){this.move(e)},"The interaction.doMove() method has been renamed to interaction.move()"));f(this,"coords",{start:Xt(),prev:Xt(),cur:Xt(),delta:Xt(),velocity:Xt()});f(this,"_id",sr++);this._scopeFire=n,this.pointerType=e;const o=this;this._proxy={};for(const i in Ye)Object.defineProperty(this._proxy,i,{get(){return o[i]}});for(const i in fe)Object.defineProperty(this._proxy,i,{value:(...r)=>o[i](...r)});this._scopeFire("interactions:new",{interaction:this})}get pointerMoveTolerance(){return 1}pointerDown(e,n,o){const i=this.updatePointer(e,n,o,!0),r=this.pointers[i];this._scopeFire("interactions:down",{pointer:e,event:n,eventTarget:o,pointerIndex:i,pointerInfo:r,type:"down",interaction:this})}start(e,n,o){return this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!n.options[e.name].enabled?!1:(He(this.prepared,e),this.interactable=n,this.element=o,this.rect=n.getRect(o),this.edges=this.prepared.edges?T({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}pointerMove(e,n,o){!this.simulation&&!(this.modification&&this.modification.endResult)&&this.updatePointer(e,n,o,!1);const i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;let r,s;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Wt(r,s)>this.pointerMoveTolerance);const a=this.getPointerIndex(e),l={pointer:e,pointerIndex:a,pointerInfo:this.pointers[a],event:n,type:"move",eventTarget:o,dx:r,dy:s,duplicate:i,interaction:this};i||ri(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",l),!i&&!this.simulation&&(this.interacting()&&(l.type=null,this.move(l)),this.pointerWasMoved&&se(this.coords.prev,this.coords.cur))}move(e){(!e||!e.event)&&zn(this.coords.delta),e=T({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{}),e.phase="move",this._doPhase(e)}pointerUp(e,n,o,i){let r=this.getPointerIndex(e);r===-1&&(r=this.updatePointer(e,n,o,!1));const s=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire(`interactions:${s}`,{pointer:e,pointerIndex:r,pointerInfo:this.pointers[r],event:n,eventTarget:o,type:s,curEventTarget:i,interaction:this}),this.simulation||this.end(n),this.removePointer(e,n)}documentBlur(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}end(e){this._ending=!0,e=e||this._latestPointer.event;let n;this.interacting()&&(n=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}currentAction(){return this._interacting?this.prepared.name:null}interacting(){return this._interacting}stop(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}getPointerIndex(e){const n=qt(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Yt(this.pointers,o=>o.id===n)}getPointerInfo(e){return this.pointers[this.getPointerIndex(e)]}updatePointer(e,n,o,i){const r=qt(e);let s=this.getPointerIndex(e),a=this.pointers[s];return i=i===!1?!1:i||/(down|start)$/i.test(n.type),a?a.pointer=e:(a=new rr(r,e,n,null,null),s=this.pointers.length,this.pointers.push(a)),ai(this.coords.cur,this.pointers.map(l=>l.pointer),this._now()),ii(this.coords.delta,this.coords.prev,this.coords.cur),i&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=o,re(this.downPointer,e),this.interacting()||(se(this.coords.start,this.coords.cur),se(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(e,n,o),this._scopeFire("interactions:update-pointer",{pointer:e,event:n,eventTarget:o,down:i,pointerInfo:a,pointerIndex:s,interaction:this}),s}removePointer(e,n){const o=this.getPointerIndex(e);if(o===-1)return;const i=this.pointers[o];this._scopeFire("interactions:remove-pointer",{pointer:e,event:n,eventTarget:null,pointerIndex:o,pointerInfo:i,interaction:this}),this.pointers.splice(o,1),this.pointerIsDown=!1}_updateLatestPointer(e,n,o){this._latestPointer.pointer=e,this._latestPointer.event=n,this._latestPointer.eventTarget=o}destroy(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}_createPreparedEvent(e,n,o,i){return new Xe(this,e,this.prepared.name,n,this.element,o,i)}_fireEvent(e){var n;(n=this.interactable)==null||n.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}_doPhase(e){const{event:n,phase:o,preEnd:i,type:r}=e,{rect:s}=this;if(s&&o==="move"&&(ie(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire(`interactions:before-action-${o}`,e)===!1)return!1;const l=e.iEvent=this._createPreparedEvent(n,o,i,r);return this._scopeFire(`interactions:action-${o}`,e),o==="start"&&(this.prevEvent=l),this._fireEvent(l),this._scopeFire(`interactions:after-action-${o}`,e),!0}_now(){return Date.now()}}fe.offsetBy="";function cr(t){!t.pointerIsDown||(Ge(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Qn({interaction:t}){Zn(t)}function lr({interaction:t}){if(!!Zn(t))return t.move({offset:!0}),t.end(),!1}function ur({interaction:t}){t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}function Zn(t){if(!fr(t))return!1;const{pending:e}=t.offset;return Ge(t.coords.cur,e),Ge(t.coords.delta,e),ie(t.edges,t.rect,e),e.x=0,e.y=0,!0}function dr({x:t,y:e}){this.offset.pending.x+=t,this.offset.pending.y+=e,this.offset.total.x+=t,this.offset.total.y+=e}function Ge({page:t,client:e},{x:n,y:o}){t.x+=n,t.y+=o,e.x+=n,e.y+=o}function fr(t){return!!(t.offset.pending.x||t.offset.pending.y)}const to={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install(t){t.Interaction.prototype.offsetBy=dr},listeners:{"interactions:new":({interaction:t})=>{t.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":({interaction:t})=>cr(t),"interactions:before-action-start":Qn,"interactions:before-action-move":Qn,"interactions:before-action-end":lr,"interactions:stop":ur}};function pr(t){const{defaults:e}=t;t.usePlugin(to),t.usePlugin(Kn),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}}class hr{constructor(e){f(this,"active",!1);f(this,"isModified",!1);f(this,"smoothEnd",!1);f(this,"allowResume",!1);f(this,"modification");f(this,"modifierCount",0);f(this,"modifierArg");f(this,"startCoords");f(this,"t0",0);f(this,"v0",0);f(this,"te",0);f(this,"targetOffset");f(this,"modifiedOffset");f(this,"currentOffset");f(this,"lambda_v0",0);f(this,"one_ve_v0",0);f(this,"timeout");f(this,"interaction");this.interaction=e}start(e){const{interaction:n}=this,o=pe(n);if(!o||!o.enabled)return!1;const{client:i}=n.coords.velocity,r=Wt(i.x,i.y),s=this.modification||(this.modification=new qe(n));if(s.copyFrom(n.modification),this.t0=n._now(),this.allowResume=o.allowResume,this.v0=r,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&r>o.minSpeed&&r>o.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:e,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}startInertia(){const e=this.interaction.coords.velocity.client,n=pe(this.interaction),o=n.resistance,i=-Math.log(n.endSpeed/this.v0)/o;this.targetOffset={x:(e.x-i)/o,y:(e.y-i)/o},this.te=i,this.lambda_v0=o/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;const{modification:r,modifierArg:s}=this;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},r.result=r.setAll(s),r.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+r.result.delta.x,y:this.targetOffset.y+r.result.delta.y}),this.onNextFrame(()=>this.inertiaTick())}startSmoothEnd(){this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(()=>this.smoothEndTick())}onNextFrame(e){this.timeout=wt.request(()=>{this.active&&e()})}inertiaTick(){const{interaction:e}=this,o=pe(e).resistance,i=(e._now()-this.t0)/1e3;if(i<this.te){const r=1-(Math.exp(-o*i)-this.lambda_v0)/this.one_ve_v0;let s;this.isModified?s=br(0,0,this.targetOffset.x,this.targetOffset.y,this.modifiedOffset.x,this.modifiedOffset.y,r):s={x:this.targetOffset.x*r,y:this.targetOffset.y*r};const a={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=a.x,this.currentOffset.y+=a.y,e.offsetBy(a),e.move(),this.onNextFrame(()=>this.inertiaTick())}else e.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}smoothEndTick(){const{interaction:e}=this,n=e._now()-this.t0,{smoothEndDuration:o}=pe(e);if(n<o){const i={x:no(n,0,this.targetOffset.x,o),y:no(n,0,this.targetOffset.y,o)},r={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=r.x,this.currentOffset.y+=r.y,e.offsetBy(r),e.move({skipModifiers:this.modifierCount}),this.onNextFrame(()=>this.smoothEndTick())}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}resume({pointer:e,event:n,eventTarget:o}){const{interaction:i}=this;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,n,o,!0),i._doPhase({interaction:i,event:n,phase:"resume"}),se(i.coords.prev,i.coords.cur),this.stop()}end(){this.interaction.move(),this.interaction.end(),this.stop()}stop(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,wt.cancel(this.timeout)}}function gr({interaction:t,event:e}){return!t._interacting||t.simulation?null:t.inertia.start(e)?!1:null}function mr(t){const{interaction:e,eventTarget:n}=t,o=e.inertia;if(!o.active)return;let i=n;for(;h.element(i);){if(i===e.element){o.resume(t);break}i=ct(i)}}function vr({interaction:t}){const e=t.inertia;e.active&&e.stop()}function pe({interactable:t,prepared:e}){return t&&t.options&&e.name&&t.options[e.name].inertia}const yr={id:"inertia",before:["modifiers","actions"],install:pr,listeners:{"interactions:new":({interaction:t})=>{t.inertia=new hr(t)},"interactions:before-action-end":gr,"interactions:down":mr,"interactions:stop":vr,"interactions:before-action-resume":t=>{const{modification:e}=t.interaction;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":t=>t.interaction.modification.setAndApply(t),"interactions:action-resume":Vt,"interactions:action-inertiastart":Vt,"interactions:after-action-inertiastart":t=>t.interaction.modification.restoreInteractionCoords(t),"interactions:after-action-resume":t=>t.interaction.modification.restoreInteractionCoords(t)}};function eo(t,e,n,o){const i=1-t;return i*i*e+2*i*t*n+t*t*o}function br(t,e,n,o,i,r,s){return{x:eo(s,t,n,i),y:eo(s,e,o,r)}}function no(t,e,n,o){return t/=o,-n*t*(t-2)+e}const xr=yr;function oo(t,e){for(const n of e){if(t.immediatePropagationStopped)break;n(t)}}class io{constructor(e){f(this,"options");f(this,"types",{});f(this,"propagationStopped",!1);f(this,"immediatePropagationStopped",!1);f(this,"global");this.options=T({},e||{})}fire(e){let n;const o=this.global;(n=this.types[e.type])&&oo(e,n),!e.propagationStopped&&o&&(n=o[e.type])&&oo(e,n)}on(e,n){const o=_t(e,n);for(e in o)this.types[e]=Cn(this.types[e]||[],o[e])}off(e,n){const o=_t(e,n);for(e in o){const i=this.types[e];if(!(!i||!i.length))for(const r of o[e]){const s=i.indexOf(r);s!==-1&&i.splice(s,1)}}}getRect(e){return null}}function Ve(t,e){if(e.phaselessTypes[t])return!0;for(const n in e.map)if(t.indexOf(n)===0&&t.substr(n.length)in e.phases)return!0;return!1}function wr(t){const e=(n,o)=>{let i=t.interactables.get(n,o);return i||(i=t.interactables.new(n,o),i.events.global=e.globalEvents),i};return e.getPointerAverage=On,e.getTouchBBox=De,e.getTouchDistance=Ce,e.getTouchAngle=ke,e.getElementRect=_e,e.getElementClientRect=Te,e.matchesSelector=xt,e.closest=yn,e.globalEvents={},e.version="1.10.17",e.scope=t,e.use=function(n,o){return this.scope.usePlugin(n,o),this},e.isSet=function(n,o){return!!this.scope.interactables.get(n,o&&o.context)},e.on=Gt(function(o,i,r){if(h.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),h.array(o)){for(const s of o)this.on(s,i,r);return this}if(h.object(o)){for(const s in o)this.on(s,o[s],i);return this}return Ve(o,this.scope.actions)?this.globalEvents[o]?this.globalEvents[o].push(i):this.globalEvents[o]=[i]:this.scope.events.add(this.scope.document,o,i,{options:r}),this},"The interact.on() method is being deprecated"),e.off=Gt(function(o,i,r){if(h.string(o)&&o.search(" ")!==-1&&(o=o.trim().split(/ +/)),h.array(o)){for(const s of o)this.off(s,i,r);return this}if(h.object(o)){for(const s in o)this.off(s,o[s],i);return this}if(Ve(o,this.scope.actions)){let s;o in this.globalEvents&&(s=this.globalEvents[o].indexOf(i))!==-1&&this.globalEvents[o].splice(s,1)}else this.scope.events.remove(this.scope.document,o,i,r);return this},"The interact.off() method is being deprecated"),e.debug=function(){return this.scope},e.supportsTouch=function(){return at.supportsTouch},e.supportsPointerEvent=function(){return at.supportsPointerEvent},e.stop=function(){for(const n of this.scope.interactions.list)n.stop();return this},e.pointerMoveTolerance=function(n){return h.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},e.addDocument=function(n,o){this.scope.addDocument(n,o)},e.removeDocument=function(n){this.scope.removeDocument(n)},e}class Sr{constructor(e,n,o,i){f(this,"options");f(this,"_actions");f(this,"target");f(this,"events",new io);f(this,"_context");f(this,"_win");f(this,"_doc");f(this,"_scopeEvents");f(this,"_rectChecker");this._actions=n.actions,this.target=e,this._context=n.context||o,this._win=dt(Sn(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=i,this.set(n)}get _defaults(){return{base:{},perAction:{},actions:{}}}setOnEvents(e,n){return h.func(n.onstart)&&this.on(`${e}start`,n.onstart),h.func(n.onmove)&&this.on(`${e}move`,n.onmove),h.func(n.onend)&&this.on(`${e}end`,n.onend),h.func(n.oninertiastart)&&this.on(`${e}inertiastart`,n.oninertiastart),this}updatePerActionListeners(e,n,o){(h.array(n)||h.object(n))&&this.off(e,n),(h.array(o)||h.object(o))&&this.on(e,o)}setPerAction(e,n){const o=this._defaults;for(const i in n){const r=i,s=this.options[e],a=n[r];r==="listeners"&&this.updatePerActionListeners(e,s.listeners,a),h.array(a)?s[r]=Me(a):h.plainObject(a)?(s[r]=T(s[r]||{},Rt(a)),h.object(o.perAction[r])&&"enabled"in o.perAction[r]&&(s[r].enabled=a.enabled!==!1)):h.bool(a)&&h.object(o.perAction[r])?s[r].enabled=a:s[r]=a}}getRect(e){return e=e||(h.element(this.target)?this.target:null),h.string(this.target)&&(e=e||this._context.querySelector(this.target)),_e(e)}rectChecker(e){return h.func(e)?(this._rectChecker=e,this.getRect=n=>{const o=T({},this._rectChecker(n));return"width"in o||(o.width=o.right-o.left,o.height=o.bottom-o.top),o},this):e===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}_backCompatOption(e,n){if(Sn(n)||h.object(n)){this.options[e]=n;for(const o in this._actions.map)this.options[o][e]=n;return this}return this.options[e]}origin(e){return this._backCompatOption("origin",e)}deltaSource(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}context(){return this._context}inContext(e){return this._context===e.ownerDocument||Tt(this._context,e)}testIgnoreAllow(e,n,o){return!this.testIgnore(e.ignoreFrom,n,o)&&this.testAllow(e.allowFrom,n,o)}testAllow(e,n,o){return e?h.element(o)?h.string(e)?ze(o,e,n):h.element(e)?Tt(e,o):!1:!1:!0}testIgnore(e,n,o){return!e||!h.element(o)?!1:h.string(e)?ze(o,e,n):h.element(e)?Tt(e,o):!1}fire(e){return this.events.fire(e),this}_onOff(e,n,o,i){h.object(n)&&!h.array(n)&&(i=o,o=null);const r=e==="on"?"add":"remove",s=_t(n,o);for(let a in s){a==="wheel"&&(a=at.wheelEvent);for(const l of s[a])Ve(a,this._actions)?this.events[e](a,l):h.string(this.target)?this._scopeEvents[`${r}Delegate`](this.target,this._context,a,l,i):this._scopeEvents[r](this.target,a,l,i)}return this}on(e,n,o){return this._onOff("on",e,n,o)}off(e,n,o){return this._onOff("off",e,n,o)}set(e){const n=this._defaults;h.object(e)||(e={}),this.options=Rt(n.base);for(const o in this._actions.methodDict){const i=o,r=this._actions.methodDict[i];this.options[i]={},this.setPerAction(i,T(T({},n.perAction),n.actions[i])),this[r](e[i])}for(const o in e)h.func(this[o])&&this[o](e[o]);return this}unset(){if(h.string(this.target))for(const e in this._scopeEvents.delegatedEvents){const n=this._scopeEvents.delegatedEvents[e];for(let o=n.length-1;o>=0;o--){const{selector:i,context:r,listeners:s}=n[o];i===this.target&&r===this._context&&n.splice(o,1);for(let a=s.length-1;a>=0;a--)this._scopeEvents.removeDelegate(this.target,this._context,e,s[a][0],s[a][1])}}else this._scopeEvents.remove(this.target,"all")}}class Er{constructor(e){f(this,"list",[]);f(this,"selectorMap",{});f(this,"scope");this.scope=e,e.addListeners({"interactable:unset":({interactable:n})=>{const{target:o,_context:i}=n,r=h.string(o)?this.selectorMap[o]:o[this.scope.id],s=Yt(r,a=>a.context===i);r[s]&&(r[s].context=null,r[s].interactable=null),r.splice(s,1)}})}new(e,n){n=T(n||{},{actions:this.scope.actions});const o=new this.scope.Interactable(e,n,this.scope.document,this.scope.events),i={context:o._context,interactable:o};return this.scope.addDocument(o._doc),this.list.push(o),h.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(i)):(o.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:e,options:n,interactable:o,win:this.scope._win}),o}get(e,n){const o=n&&n.context||this.scope.document,i=h.string(e),r=i?this.selectorMap[e]:e[this.scope.id];if(!r)return null;const s=le(r,a=>a.context===o&&(i||a.interactable.inContext(e)));return s&&s.interactable}forEachMatch(e,n){for(const o of this.list){let i;if((h.string(o.target)?h.element(e)&&xt(e,o.target):e===o.target)&&o.inContext(e)&&(i=n(o)),i!==void 0)return i}}}function Ir(t){var e;const n=[],o={},i=[],r={add:s,remove:a,addDelegate:l,removeDelegate:c,delegateListener:u,delegateUseCapture:d,delegatedEvents:o,documents:i,targets:n,supportsOptions:!1,supportsPassive:!1};(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return r.supportsOptions=!0},get passive(){return r.supportsPassive=!0}}),t.events=r;function s(m,v,y,_){const M=Ut(_);let O=le(n,z=>z.eventTarget===m);O||(O={eventTarget:m,events:{}},n.push(O)),O.events[v]||(O.events[v]=[]),m.addEventListener&&!li(O.events[v],y)&&(m.addEventListener(v,y,r.supportsOptions?M:M.capture),O.events[v].push(y))}function a(m,v,y,_){const M=Ut(_),O=Yt(n,p=>p.eventTarget===m),z=n[O];if(!z||!z.events)return;if(v==="all"){for(v in z.events)z.events.hasOwnProperty(v)&&a(m,v,"all");return}let A=!1;const b=z.events[v];if(b){if(y==="all"){for(let p=b.length-1;p>=0;p--)a(m,v,b[p],M);return}else for(let p=0;p<b.length;p++)if(b[p]===y){m.removeEventListener(v,y,r.supportsOptions?M:M.capture),b.splice(p,1),b.length===0&&(delete z.events[v],A=!0);break}}A&&!Object.keys(z.events).length&&n.splice(O,1)}function l(m,v,y,_,M){const O=Ut(M);if(!o[y]){o[y]=[];for(const b of i)s(b,y,u),s(b,y,d,!0)}const z=o[y];let A=le(z,b=>b.selector===m&&b.context===v);A||(A={selector:m,context:v,listeners:[]},z.push(A)),A.listeners.push([_,O])}function c(m,v,y,_,M){const O=Ut(M),z=o[y];let A=!1,b;if(!!z)for(b=z.length-1;b>=0;b--){const p=z[b];if(p.selector===m&&p.context===v){const{listeners:R}=p;for(let w=R.length-1;w>=0;w--){const[j,{capture:X,passive:k}]=R[w];if(j===_&&X===O.capture&&k===O.passive){R.splice(w,1),R.length||(z.splice(b,1),a(v,y,u),a(v,y,d,!0)),A=!0;break}}if(A)break}}}function u(m,v){const y=Ut(v),_=new zr(m),M=o[m.type],[O]=Dn(m);let z=O;for(;h.element(z);){for(let A=0;A<M.length;A++){const b=M[A],{selector:p,context:R}=b;if(xt(z,p)&&Tt(R,O)&&Tt(R,z)){const{listeners:w}=b;_.currentTarget=z;for(const[j,{capture:X,passive:k}]of w)X===y.capture&&k===y.passive&&j(_)}}z=ct(z)}}function d(m){return u.call(this,m,!0)}return r}class zr{constructor(e){f(this,"currentTarget");f(this,"originalEvent");f(this,"type");this.originalEvent=e,re(this,e)}preventOriginalDefault(){this.originalEvent.preventDefault()}stopPropagation(){this.originalEvent.stopPropagation()}stopImmediatePropagation(){this.originalEvent.stopImmediatePropagation()}}function Ut(t){if(!h.object(t))return{capture:!!t,passive:!1};const e=T({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}const Tr={id:"events",install:Ir},Ue={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search(t){for(const e of Ue.methodOrder){const n=Ue[e](t);if(n)return n}return null},simulationResume({pointerType:t,eventType:e,eventTarget:n,scope:o}){if(!/down|start/i.test(e))return null;for(const i of o.interactions.list){let r=n;if(i.simulation&&i.simulation.allowResume&&i.pointerType===t)for(;r;){if(r===i.element)return i;r=ct(r)}}return null},mouseOrPen({pointerId:t,pointerType:e,eventType:n,scope:o}){if(e!=="mouse"&&e!=="pen")return null;let i;for(const r of o.interactions.list)if(r.pointerType===e){if(r.simulation&&!ro(r,t))continue;if(r.interacting())return r;i||(i=r)}if(i)return i;for(const r of o.interactions.list)if(r.pointerType===e&&!(/down/i.test(n)&&r.simulation))return r;return null},hasPointer({pointerId:t,scope:e}){for(const n of e.interactions.list)if(ro(n,t))return n;return null},idle({pointerType:t,scope:e}){for(const n of e.interactions.list){if(n.pointers.length===1){const o=n.interactable;if(o&&!(o.options.gesture&&o.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&t===n.pointerType)return n}return null}};function ro(t,e){return t.pointers.some(({id:n})=>n===e)}const _r=Ue,so=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Or(t){const e={};for(const r of so)e[r]=ao(r,t);const n=at.pEventTypes;let o;Q.PointerEvent?o=[{type:n.down,listener:i},{type:n.down,listener:e.pointerDown},{type:n.move,listener:e.pointerMove},{type:n.up,listener:e.pointerUp},{type:n.cancel,listener:e.pointerUp}]:o=[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:i},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}],o.push({type:"blur",listener(r){for(const s of t.interactions.list)s.documentBlur(r)}}),t.prevTouchTime=0,t.Interaction=class extends ar{get pointerMoveTolerance(){return t.interactions.pointerMoveTolerance}set pointerMoveTolerance(r){t.interactions.pointerMoveTolerance=r}_now(){return t.now()}},t.interactions={list:[],new(r){r.scopeFire=(a,l)=>t.fire(a,l);const s=new t.Interaction(r);return t.interactions.list.push(s),s},listeners:e,docEvents:o,pointerMoveTolerance:1};function i(){for(const r of t.interactions.list)if(!(!r.pointerIsDown||r.pointerType!=="touch"||r._interacting))for(const s of r.pointers)t.documents.some(({doc:a})=>Tt(a,s.downTarget))||r.removePointer(s.pointer,s.event)}t.usePlugin(Xn)}function ao(t,e){return function(n){const o=e.interactions.list,i=Pn(n),[r,s]=Dn(n),a=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(const l of n.changedTouches){const c=l,u=qt(c),d={pointer:c,pointerId:u,pointerType:i,eventType:n.type,eventTarget:r,curEventTarget:s,scope:e},m=co(d);a.push([d.pointer,d.eventTarget,d.curEventTarget,m])}}else{let l=!1;if(!at.supportsPointerEvent&&/mouse/.test(n.type)){for(let c=0;c<o.length&&!l;c++)l=o[c].pointerType!=="mouse"&&o[c].pointerIsDown;l=l||e.now()-e.prevTouchTime<500||n.timeStamp===0}if(!l){const c={pointer:n,pointerId:qt(n),pointerType:i,eventType:n.type,curEventTarget:s,eventTarget:r,scope:e},u=co(c);a.push([c.pointer,c.eventTarget,c.curEventTarget,u])}}for(const[l,c,u,d]of a)d[t](l,n,c,u)}}function co(t){const{pointerType:e,scope:n}=t,i={interaction:_r.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function Ke({doc:t,scope:e,options:n},o){const{interactions:{docEvents:i},events:r}=e,s=r[o];e.browser.isIOS&&!n.events&&(n.events={passive:!1});for(const l in r.delegatedEvents)s(t,l,r.delegateListener),s(t,l,r.delegateUseCapture,!0);const a=n&&n.events;for(const{type:l,listener:c}of i)s(t,l,c,a)}const Pr={id:"core/interactions",install:Or,listeners:{"scope:add-document":t=>Ke(t,"add"),"scope:remove-document":t=>Ke(t,"remove"),"interactable:unset":({interactable:t},e)=>{for(let n=e.interactions.list.length-1;n>=0;n--){const o=e.interactions.list[n];o.interactable===t&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(n,1))}}},onDocSignal:Ke,doOnInteractions:ao,methodNames:so};class Dr{constructor(){f(this,"id",`__interact_scope_${Math.floor(Math.random()*100)}`);f(this,"isInitialized",!1);f(this,"listenerMaps",[]);f(this,"browser",at);f(this,"defaults",Rt(Jn));f(this,"Eventable",io);f(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}});f(this,"interactStatic",wr(this));f(this,"InteractEvent",Xe);f(this,"Interactable");f(this,"interactables",new Er(this));f(this,"_win");f(this,"document");f(this,"window");f(this,"documents",[]);f(this,"_plugins",{list:[],map:{}});f(this,"onWindowUnload",e=>this.removeDocument(e.target));const e=this;this.Interactable=class extends Sr{get _defaults(){return e.defaults}set(n){return super.set(n),e.fire("interactable:set",{options:n,interactable:this}),this}unset(){super.unset();const n=e.interactables.list.indexOf(this);n<0||(super.unset(),e.interactables.list.splice(n,1),e.fire("interactable:unset",{interactable:this}))}}}addListeners(e,n){this.listenerMaps.push({id:n,map:e})}fire(e,n){for(const{map:{[e]:o}}of this.listenerMaps)if(!!o&&o(n,this,e)===!1)return!1}init(e){return this.isInitialized?this:Cr(this,e)}pluginIsInstalled(e){return this._plugins.map[e.id]||this._plugins.list.indexOf(e)!==-1}usePlugin(e,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,n),e.listeners&&e.before){let o=0;const i=this.listenerMaps.length,r=e.before.reduce((s,a)=>(s[a]=!0,s[lo(a)]=!0,s),{});for(;o<i;o++){const s=this.listenerMaps[o].id;if(r[s]||r[lo(s)])break}this.listenerMaps.splice(o,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}addDocument(e,n){if(this.getDocIndex(e)!==-1)return!1;const o=dt(e);n=n?T({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(o,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:o,scope:this,options:n})}removeDocument(e){const n=this.getDocIndex(e),o=dt(e),i=this.documents[n].options;this.events.remove(o,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:o,scope:this,options:i})}getDocIndex(e){for(let n=0;n<this.documents.length;n++)if(this.documents[n].doc===e)return n;return-1}getDocOptions(e){const n=this.getDocIndex(e);return n===-1?null:this.documents[n].options}now(){return(this.window.Date||Date).now()}}function Cr(t,e){return t.isInitialized=!0,h.window(e)&&hn(e),Q.init(e),at.init(e),wt.init(e),t.window=e,t.document=e.document,t.usePlugin(Pr),t.usePlugin(Tr),t}function lo(t){return t&&t.replace(/\/.*$/,"")}const uo=new Dr,tt=uo.interactStatic,kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:globalThis;uo.init(kr);const Mr=Object.freeze(Object.defineProperty({__proto__:null,edgeTarget:()=>{},elements:()=>{},grid:t=>{const e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(([o,i])=>o in t||i in t),n=(o,i)=>{const{range:r,limits:s={left:-1/0,right:1/0,top:-1/0,bottom:1/0},offset:a={x:0,y:0}}=t,l={range:r,grid:t,x:null,y:null};for(const[c,u]of e){const d=Math.round((o-a.x)/t[c]),m=Math.round((i-a.y)/t[u]);l[c]=Math.max(s.left,Math.min(s.right,d*t[c]+a.x)),l[u]=Math.max(s.top,Math.min(s.bottom,m*t[u]+a.y))}return l};return n.grid=t,n.coordFields=e,n}},Symbol.toStringTag,{value:"Module"})),Ar={id:"snappers",install(t){const{interactStatic:e}=t;e.snappers=T(e.snappers||{},Mr),e.createSnapGrid=e.snappers.grid}},Rr={start(t){const{state:e,rect:n,edges:o,pageCoords:i}=t;let{ratio:r}=e.options;const{equalDelta:s,modifiers:a}=e.options;r==="preserve"&&(r=n.width/n.height),e.startCoords=T({},i),e.startRect=T({},n),e.ratio=r,e.equalDelta=s;const l=e.linkedEdges={top:o.top||o.left&&!o.bottom,left:o.left||o.top&&!o.right,bottom:o.bottom||o.right&&!o.top,right:o.right||o.bottom&&!o.left};if(e.xIsPrimaryAxis=!!(o.left||o.right),e.equalDelta){const u=(l.left?1:-1)*(l.top?1:-1);e.edgeSign={x:u,y:u}}else e.edgeSign={x:l.left?-1:1,y:l.top?-1:1};if(T(t.edges,l),!a||!a.length)return;const c=new qe(t.interaction);c.copyFrom(t.interaction.modification),c.prepareStates(a),e.subModification=c,c.startAll({...t})},set(t){const{state:e,rect:n,coords:o}=t,i=T({},o),r=e.equalDelta?$r:Nr;if(r(e,e.xIsPrimaryAxis,o,n),!e.subModification)return null;const s=T({},n);ie(e.linkedEdges,s,{x:o.x-i.x,y:o.y-i.y});const a=e.subModification.setAll({...t,rect:s,edges:e.linkedEdges,pageCoords:o,prevCoords:o,prevRect:s}),{delta:l}=a;if(a.changed){const c=Math.abs(l.x)>Math.abs(l.y);r(e,c,a.coords,a.rect),T(o,a.coords)}return a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function $r({startCoords:t,edgeSign:e},n,o){n?o.y=t.y+(o.x-t.x)*e.y:o.x=t.x+(o.y-t.y)*e.x}function Nr({startRect:t,startCoords:e,ratio:n,edgeSign:o},i,r,s){if(i){const a=s.width/n;r.y=e.y+(a-t.height)*o.y}else{const a=s.height*n;r.x=e.x+(a-t.width)*o.x}}const Lr=St(Rr,"aspectRatio"),fo=()=>{};fo._defaults={};const he=fo;function Hr({rect:t,startOffset:e,state:n,interaction:o,pageCoords:i}){const{options:r}=n,{elementRect:s}=r,a=T({left:0,top:0,right:0,bottom:0},r.offset||{});if(t&&s){const l=Pt(r.restriction,o,i);if(l){const c=l.right-l.left-t.width,u=l.bottom-l.top-t.height;c<0&&(a.left+=c,a.right+=c),u<0&&(a.top+=u,a.bottom+=u)}a.left+=e.left-t.width*s.left,a.top+=e.top-t.height*s.top,a.right+=e.right-t.width*(1-s.right),a.bottom+=e.bottom-t.height*(1-s.bottom)}n.offset=a}function jr({coords:t,interaction:e,state:n}){const{options:o,offset:i}=n,r=Pt(o.restriction,e,t);if(!r)return;const s=oi(r);t.x=Math.max(Math.min(s.right-i.right,t.x),s.left+i.left),t.y=Math.max(Math.min(s.bottom-i.bottom,t.y),s.top+i.top)}function Pt(t,e,n){return h.func(t)?Bt(t,e.interactable,e.element,[n.x,n.y,e]):Bt(t,e.interactable,e.element)}const ge={start:Hr,set:jr,defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Br=St(ge,"restrict"),po={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ho={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Fr({interaction:t,startOffset:e,state:n}){const{options:o}=n;let i;if(o){const r=Pt(o.offset,t,t.coords.start.page);i=oe(r)}i=i||{x:0,y:0},n.offset={top:i.y+e.top,left:i.x+e.left,bottom:i.y-e.bottom,right:i.x-e.right}}function Wr({coords:t,edges:e,interaction:n,state:o}){const{offset:i,options:r}=o;if(!e)return;const s=T({},t),a=Pt(r.inner,n,s)||{},l=Pt(r.outer,n,s)||{};go(a,po),go(l,ho),e.top?t.y=Math.min(Math.max(l.top+i.top,s.y),a.top+i.top):e.bottom&&(t.y=Math.max(Math.min(l.bottom+i.bottom,s.y),a.bottom+i.bottom)),e.left?t.x=Math.min(Math.max(l.left+i.left,s.x),a.left+i.left):e.right&&(t.x=Math.max(Math.min(l.right+i.right,s.x),a.right+i.right))}function go(t,e){for(const n of["top","left","bottom","right"])n in t||(t[n]=e[n]);return t}const Kt={noInner:po,noOuter:ho,start:Fr,set:Wr,defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},qr=St(Kt,"restrictEdges"),Xr=T({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},ge.defaults),Yr={start:ge.start,set:ge.set,defaults:Xr},Gr=St(Yr,"restrictRect"),Vr={width:-1/0,height:-1/0},Ur={width:1/0,height:1/0};function Kr(t){return Kt.start(t)}function Jr(t){const{interaction:e,state:n,rect:o,edges:i}=t,{options:r}=n;if(!i)return;const s=Oe(Pt(r.min,e,t.coords))||Vr,a=Oe(Pt(r.max,e,t.coords))||Ur;n.options={endOnly:r.endOnly,inner:T({},Kt.noInner),outer:T({},Kt.noOuter)},i.top?(n.options.inner.top=o.bottom-s.height,n.options.outer.top=o.bottom-a.height):i.bottom&&(n.options.inner.bottom=o.top+s.height,n.options.outer.bottom=o.top+a.height),i.left?(n.options.inner.left=o.right-s.width,n.options.outer.left=o.right-a.width):i.right&&(n.options.inner.right=o.left+s.width,n.options.outer.right=o.left+a.width),Kt.set(t),n.options=r}const Qr=St({start:Kr,set:Jr,defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize");function Zr(t){const{interaction:e,interactable:n,element:o,rect:i,state:r,startOffset:s}=t,{options:a}=r,l=a.offsetWithOrigin?es(t):{x:0,y:0};let c;if(a.offset==="startCoords")c={x:e.coords.start.page.x,y:e.coords.start.page.y};else{const d=Bt(a.offset,n,o,[e]);c=oe(d)||{x:0,y:0},c.x+=l.x,c.y+=l.y}const{relativePoints:u}=a;r.offsets=i&&u&&u.length?u.map((d,m)=>({index:m,relativePoint:d,x:s.left-i.width*d.x+c.x,y:s.top-i.height*d.y+c.y})):[{index:0,relativePoint:null,x:c.x,y:c.y}]}function ts(t){const{interaction:e,coords:n,state:o}=t,{options:i,offsets:r}=o,s=Ft(e.interactable,e.element,e.prepared.name),a=T({},n),l=[];i.offsetWithOrigin||(a.x-=s.x,a.y-=s.y);for(const u of r){const d=a.x-u.x,m=a.y-u.y;for(let v=0,y=i.targets.length;v<y;v++){const _=i.targets[v];let M;h.func(_)?M=_(d,m,e._proxy,u,v):M=_,M&&l.push({x:(h.number(M.x)?M.x:d)+u.x,y:(h.number(M.y)?M.y:m)+u.y,range:h.number(M.range)?M.range:i.range,source:_,index:v,offset:u})}}const c={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}};for(const u of l){const d=u.range,m=u.x-a.x,v=u.y-a.y,y=Wt(m,v);let _=y<=d;d===1/0&&c.inRange&&c.range!==1/0&&(_=!1),(!c.target||(_?c.inRange&&d!==1/0?y/d<c.distance/c.range:d===1/0&&c.range!==1/0||y<c.distance:!c.inRange&&y<c.distance))&&(c.target=u,c.distance=y,c.range=d,c.inRange=_,c.delta.x=m,c.delta.y=v)}return c.inRange&&(n.x=c.target.x,n.y=c.target.y),o.closest=c,c}function es(t){const{element:e}=t.interaction;return oe(Bt(t.state.options.origin,null,null,[e]))||Ft(t.interactable,e,t.interaction.prepared.name)}const Je={start:Zr,set:ts,defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},ns=St(Je,"snap");function os(t){const{state:e,edges:n}=t,{options:o}=e;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:o.offset||"self",origin:{x:0,y:0},range:o.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Je.start(t),e.offsets=t.state.offsets,t.state=e}function is(t){const{interaction:e,state:n,coords:o}=t,{options:i,offsets:r}=n,s={x:o.x-r[0].x,y:o.y-r[0].y};n.options=T({},i),n.options.targets=[];for(const l of i.targets||[]){let c;if(h.func(l)?c=l(s.x,s.y,e):c=l,!!c){for(const[u,d]of n.targetFields)if(u in c||d in c){c.x=c[u],c.y=c[d];break}n.options.targets.push(c)}}const a=Je.set(t);return n.options=i,a}const me={start:os,set:is,defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},rs=St(me,"snapSize");function ss(t){const{edges:e}=t;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],me.start(t)):null}const as={start:ss,set:me.set,defaults:T(Rt(me.defaults),{targets:null,range:null,offset:{x:0,y:0}})},cs=St(as,"snapEdges"),Qe={aspectRatio:Lr,restrictEdges:qr,restrict:Br,restrictRect:Gr,restrictSize:Qr,snapEdges:cs,snap:ns,snapSize:rs,spring:he,avoid:he,transform:he,rubberband:he},ls={id:"modifiers",install(t){const{interactStatic:e}=t;t.usePlugin(Kn),t.usePlugin(Ar),e.modifiers=Qe;for(const n in Qe){const{_defaults:o,_methods:i}=Qe[n];o._methods=i,t.defaults.perAction[n]=o}}};class mo extends ce{constructor(e,n,o,i,r,s){if(super(r),re(this,o),o!==n&&re(this,n),this.timeStamp=s,this.originalEvent=o,this.type=e,this.pointerId=qt(n),this.pointerType=Pn(n),this.target=i,this.currentTarget=null,e==="tap"){const a=r.getPointerIndex(n);this.dt=this.timeStamp-r.pointers[a].downTime;const l=this.timeStamp-r.tapTime;this.double=!!r.prevTap&&r.prevTap.type!=="doubletap"&&r.prevTap.target===this.target&&l<500}else e==="doubletap"&&(this.dt=n.timeStamp-r.tapTime,this.double=!0)}_subtractOrigin({x:e,y:n}){return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}_addOrigin({x:e,y:n}){return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}preventDefault(){this.originalEvent.preventDefault()}}const Jt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:gs,listeners:{"interactions:new":us,"interactions:update-pointer":ds,"interactions:move":fs,"interactions:down":(t,e)=>{ps(t,e),Et(t,e)},"interactions:up":(t,e)=>{Ze(t),Et(t,e),hs(t,e)},"interactions:cancel":(t,e)=>{Ze(t),Et(t,e)}},PointerEvent:mo,fire:Et,collectEventTargets:vo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Et(t,e){const{interaction:n,pointer:o,event:i,eventTarget:r,type:s,targets:a=vo(t,e)}=t,l=new mo(s,o,i,r,n,e.now());e.fire("pointerEvents:new",{pointerEvent:l});const c={interaction:n,pointer:o,event:i,eventTarget:r,targets:a,type:s,pointerEvent:l};for(let u=0;u<a.length;u++){const d=a[u];for(const v in d.props||{})l[v]=d.props[v];const m=Ft(d.eventable,d.node);if(l._subtractOrigin(m),l.eventable=d.eventable,l.currentTarget=d.node,d.eventable.fire(l),l._addOrigin(m),l.immediatePropagationStopped||l.propagationStopped&&u+1<a.length&&a[u+1].node!==l.currentTarget)break}if(e.fire("pointerEvents:fired",c),s==="tap"){const u=l.double?Et({interaction:n,pointer:o,event:i,eventTarget:r,type:"doubletap"},e):l;n.prevTap=u,n.tapTime=u.timeStamp}return l}function vo({interaction:t,pointer:e,event:n,eventTarget:o,type:i},r){const s=t.getPointerIndex(e),a=t.pointers[s];if(i==="tap"&&(t.pointerWasMoved||!(a&&a.downTarget===o)))return[];const l=wn(o),c={interaction:t,pointer:e,event:n,eventTarget:o,type:i,path:l,targets:[],node:null};for(const u of l)c.node=u,r.fire("pointerEvents:collect-targets",c);return i==="hold"&&(c.targets=c.targets.filter(u=>{var d;return u.eventable.options.holdDuration===((d=t.pointers[s])==null?void 0:d.hold.duration)})),c.targets}function us({interaction:t}){t.prevTap=null,t.tapTime=0}function ds({down:t,pointerInfo:e}){!t&&e.hold||(e.hold={duration:1/0,timeout:null})}function Ze({interaction:t,pointerIndex:e}){const n=t.pointers[e].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}function fs(t,e){const{interaction:n,pointer:o,event:i,eventTarget:r,duplicate:s}=t;!s&&(!n.pointerIsDown||n.pointerWasMoved)&&(n.pointerIsDown&&Ze(t),Et({interaction:n,pointer:o,event:i,eventTarget:r,type:"move"},e))}function ps({interaction:t,pointer:e,event:n,eventTarget:o,pointerIndex:i},r){const s=t.pointers[i].hold,a=wn(o),l={interaction:t,pointer:e,event:n,eventTarget:o,type:"hold",targets:[],path:a,node:null};for(const u of a)l.node=u,r.fire("pointerEvents:collect-targets",l);if(!l.targets.length)return;let c=1/0;for(const u of l.targets){const d=u.eventable.options.holdDuration;d<c&&(c=d)}s.duration=c,s.timeout=setTimeout(()=>{Et({interaction:t,eventTarget:o,pointer:e,event:n,type:"hold"},r)},c)}function hs({interaction:t,pointer:e,event:n,eventTarget:o},i){t.pointerWasMoved||Et({interaction:t,eventTarget:o,pointer:e,event:n,type:"tap"},i)}function gs(t){t.pointerEvents=Jt,t.defaults.actions.pointerEvents=Jt.defaults,T(t.actions.phaselessTypes,Jt.types)}const ms=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"}));function vs(t){t.usePlugin(Jt);const{pointerEvents:e}=t;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0}function ys({pointerEvent:t}){t.type==="hold"&&(t.count=(t.count||0)+1)}function bs({interaction:t,pointerEvent:e,eventTarget:n,targets:o},i){if(e.type!=="hold"||!o.length)return;const r=o[0].eventable.options.holdRepeatInterval;r<=0||(t.holdIntervalHandle=setTimeout(()=>{i.pointerEvents.fire({interaction:t,eventTarget:n,type:"hold",pointer:e,event:e},i)},r))}function xs({interaction:t}){t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}const ws={id:"pointer-events/holdRepeat",install:vs,listeners:["move","up","cancel","endall"].reduce((t,e)=>(t[`pointerEvents:${e}`]=xs,t),{"pointerEvents:new":ys,"pointerEvents:fired":bs})};function Ss(t){const{Interactable:e}=t;e.prototype.pointerEvents=Es;const n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(o,i){const r=n.call(this,o,i);return r===this&&(this.events.options[o]=i),r}}function Es(t){return T(this.events.options,t),this}const Is={id:"pointer-events/interactableTargets",install:Ss,listeners:{"pointerEvents:collect-targets":({targets:t,node:e,type:n,eventTarget:o},i)=>{i.interactables.forEachMatch(e,r=>{const s=r.events,a=s.options;s.types[n]&&s.types[n].length&&r.testIgnoreAllow(a,e,o)&&t.push({node:e,eventable:s,props:{interactable:r}})})},"interactable:new":({interactable:t})=>{t.events.getRect=function(e){return t.getRect(e)}},"interactable:set":({interactable:t,options:e},n)=>{T(t.events.options,n.pointerEvents.defaults),T(t.events.options,e.pointerEvents||{})}}},zs={id:"pointer-events",install(t){t.usePlugin(ms),t.usePlugin(ws),t.usePlugin(Is)}};function Ts(t){const{Interactable:e}=t;t.actions.phases.reflow=!0,e.prototype.reflow=function(n){return _s(this,n,t)}}function _s(t,e,n){const o=h.string(t.target)?Me(t._context.querySelectorAll(t.target)):[t.target],i=n.window.Promise,r=i?[]:null;for(const s of o){const a=t.getRect(s);if(!a)break;const l=le(n.interactions.list,u=>u.interacting()&&u.interactable===t&&u.element===s&&u.prepared.name===e.name);let c;if(l)l.move(),r&&(c=l._reflowPromise||new i(u=>{l._reflowResolve=u}));else{const u=Oe(a),d={page:{x:u.x,y:u.y},client:{x:u.x,y:u.y},timeStamp:n.now()},m=ci(d);c=Os(n,t,s,e,m)}r&&r.push(c)}return r&&i.all(r).then(()=>t)}function Os(t,e,n,o,i){const r=t.interactions.new({pointerType:"reflow"}),s={interaction:r,event:i,pointer:i,eventTarget:n,phase:"reflow"};r.interactable=e,r.element=n,r.prevEvent=i,r.updatePointer(i,i,n,!0),zn(r.coords.delta),He(r.prepared,o),r._doPhase(s);const{Promise:a}=t.window,l=a?new a(c=>{r._reflowResolve=c}):void 0;return r._reflowPromise=l,r.start(o,e,n),r._interacting?(r.move(s),r.end(i)):(r.stop(),r._reflowResolve()),r.removePointer(i,i),l}const Ps={id:"reflow",install:Ts,listeners:{"interactions:stop":({interaction:t},e)=>{t.pointerType==="reflow"&&(t._reflowResolve&&t._reflowResolve(),ui(e.interactions.list,t))}}};if(tt.use(Xn),tt.use(to),tt.use(zs),tt.use(xr),tt.use(ls),tt.use(Gi),tt.use(_i),tt.use(Di),tt.use(Ps),tt.use(nr),typeof module=="object"&&!!module)try{module.exports=tt}catch{}tt.default=tt;const Ds=t=>!isNaN(t),Cs=t=>{const e=t.target.offsetParent||document.body,n=t.offsetParent===document.body?{left:0,top:0}:e.getBoundingClientRect(),o=t.clientX+e.scrollLeft-n.left,i=t.clientY+e.scrollTop-n.top;return{x:o,y:i}},yo=(t,e,n,o)=>!Ds(t)?{deltaX:0,deltaY:0,lastX:n,lastY:o,x:n,y:o}:{deltaX:n-t,deltaY:o-e,lastX:t,lastY:e,x:n,y:o},bo=t=>Cs(t),ve=g.defineComponent({__name:"GridItem",props:{breakpointCols:{required:!0,type:Object},colNum:{required:!0,type:Number},containerWidth:{required:!0,type:Number},h:{required:!0,type:Number},i:{required:!0,type:Number},isDraggable:{required:!0,type:Boolean},isResizable:{required:!0,type:Boolean},lastBreakpoint:{required:!0,type:String},margin:{required:!0,type:Array},maxH:{default:1/0,type:Number},maxRows:{required:!0,type:Number},maxW:{default:1/0,type:Number},minH:{default:1,type:Number},minW:{default:1,type:Number},observer:{default:void 0,type:[IntersectionObserver,void 0]},rowHeight:{required:!0,type:Number},static:{default:!1,type:Boolean},useCssTransforms:{required:!0,type:Boolean},w:{required:!0,type:Number},x:{required:!0,type:Number},y:{required:!0,type:Number}},emits:["container-resized","resize","resized","move","moved","drag-event","resize-event"],setup(t,{expose:e,emit:n}){const o=t,i=g.ref(null),r=g.inject(yt),s="vue-resizable-handle",a=g.ref(o.colNum),l=g.ref(!1),c=g.ref({}),u=g.ref({h:o.h,w:o.w,x:o.x,y:o.y}),d=g.ref(null),m=g.ref(!1),v=g.ref(!1),y=g.ref({h:NaN,w:NaN,x:NaN,y:NaN}),_=g.ref({h:NaN,w:NaN,x:NaN,y:NaN}),M=g.ref(!1),O=g.ref(null),z=g.reactive({props:{}}),A=g.computed(()=>({"css-transforms":o.useCssTransforms,"disable-user-select":m.value,"no-touch":b.value,resizing:v.value,static:o.static,"vue-draggable-dragging":m.value,"vue-resizable":p.value})),b=g.computed(()=>{const x=(o.isDraggable||o.isResizable)&&!o.static,P=navigator.userAgent.toLowerCase().indexOf("android")!==-1;return x&&P}),p=g.computed(()=>o.isResizable&&!o.static);g.watch(()=>o.observer,()=>{o.observer&&i.value&&(o.observer.observe(i.value),i.value.__INTERSECTION_OBSERVER_INDEX__=o.i)}),g.watch(()=>a.value,()=>{E(),q()}),g.watch(()=>o.containerWidth,()=>{E(),q()}),g.watch(()=>o.h,x=>{u.value.h=x,q()}),g.watch(()=>o.isDraggable,()=>{U()}),g.watch(()=>o.isResizable,()=>{E()}),g.watch(()=>o.maxH,()=>{E()}),g.watch(()=>o.maxW,()=>{E()}),g.watch(()=>o.minH,()=>{E()}),g.watch(()=>o.minW,()=>{E()}),g.watch(()=>o.rowHeight,()=>{q()}),g.watch(()=>o.static,()=>{E(),U()}),g.watch(()=>o.w,x=>{u.value.w=x,k()}),g.watch(()=>o.x,x=>{u.value.x=x,k()}),g.watch(()=>o.y,x=>{u.value.y=x,k()});const R=()=>{const[x]=o.margin;return(o.containerWidth-x*(a.value+1))/a.value},w=(x,P,L,H)=>{const D=R(),[I,V]=o.margin;return{height:H===1/0?H:Math.round(o.rowHeight*H+Math.max(0,H-1)*V),left:Math.round(D*x+(x+1)*V),top:Math.round(o.rowHeight*P+(P+1)*V),width:L===1/0?L:Math.round(D*L+Math.max(0,L-1)*I)}},j=(x,P)=>{const L=R(),[H,D]=o.margin,I=Math.round((P+H)/(L+H)),V=Math.round((x+D)/(o.rowHeight+D));return{h:Math.max(Math.min(V,o.maxRows-u.value.y),0),w:Math.max(Math.min(I,a.value-u.value.x),0)}},X=(x,P)=>{const L=R(),[H,D]=o.margin,I=Math.round((P-H)/(L+H)),V=Math.round((x-D)/(o.rowHeight+D));return{x:Math.max(Math.min(I,a.value-u.value.w),0),y:Math.max(Math.min(V,o.maxRows-u.value.h),0)}},k=()=>{var P,L,H,D,I,V;const x=w(u.value.x,u.value.y,u.value.w,u.value.h);o.x+o.w>a.value?(u.value.x=0,u.value.w=o.w>a.value?a.value:o.w):(u.value.x=o.x,u.value.w=o.w),m.value&&(x.top=(P=c.value.top)!=null?P:0,x.left=(L=c.value.left)!=null?L:0),v.value&&(x.width=(D=(H=O==null?void 0:O.value)==null?void 0:H.width)!=null?D:0,x.height=(V=(I=O==null?void 0:O.value)==null?void 0:I.height)!=null?V:0),z.props=o.useCssTransforms?Xo(x.top,x.left,x.width,x.height):qo(x.top,x.left,x.width,x.height)},q=()=>{k();const x={};for(const P of["width","height"]){const L=z.props[P],H=L==null?void 0:L.toString().match(/^(\d+)px$/);if(!H)return;x[P]=+H[1]}n("container-resized",{h:o.h,height:x.height,i:o.i,w:o.w,width:x.width})},$=x=>{var V,lt,et,rt;if(o.static||v.value)return;const P=bo(x);if(!P)return;const{x:L,y:H}=P,D={left:0,top:0};switch(x.type){case"dragstart":{_.value.x=u.value.x,_.value.y=u.value.y;const Y=x.target.offsetParent.getBoundingClientRect(),S=x.target.getBoundingClientRect();D.left=S.left-Y.left,D.top=S.top-Y.top,c.value=D,m.value=!0;break}case"dragend":{if(!m.value)return;const Y=x.target.offsetParent.getBoundingClientRect(),S=x.target.getBoundingClientRect();D.left=S.left-Y.left,D.top=S.top-Y.top,c.value={},m.value=!1;break}case"dragmove":{const Y=yo(y.value.x,y.value.y,L,H);D.left=((lt=(V=c==null?void 0:c.value)==null?void 0:V.left)!=null?lt:0)+Y.deltaX,D.top=((rt=(et=c==null?void 0:c.value)==null?void 0:et.top)!=null?rt:0)+Y.deltaY,c.value=D;break}}const I=X(D.top,D.left);y.value.x=L,y.value.y=H,(u.value.x!==I.x||u.value.y!==I.y)&&n("move",o.i,I.x,I.y),x.type==="dragend"&&(_.value.x!==u.value.x||_.value.y!==u.value.y)&&n("moved",o.i,I.x,I.y),r==null||r.emit("drag-event",[x.type,o.i,I.x,I.y,u.value.h,u.value.w])},B=x=>{var V,lt,et,rt;if(o.static)return;const P=bo(x);if(!P)return;const{x:L,y:H}=P,D={height:0,width:0};switch(x.type){case"resizestart":{_.value.w=u.value.w,_.value.h=u.value.h;const{height:Y,width:S}=w(u.value.x,u.value.y,u.value.w,u.value.h);D.width=S,D.height=Y,O.value=D,v.value=!0;break}case"resizemove":{const Y=yo(y.value.x,y.value.h,L,H);D.width=((lt=(V=O==null?void 0:O.value)==null?void 0:V.width)!=null?lt:0)+Y.deltaX,D.height=((rt=(et=O==null?void 0:O.value)==null?void 0:et.height)!=null?rt:0)+Y.deltaY,O.value=D,v.value=!0;break}case"resizeend":{const{height:Y,width:S}=w(u.value.x,u.value.y,u.value.w,u.value.h);D.width=S,D.height=Y,O.value=null,v.value=!1;break}}const I=j(D.height,D.width);I.w<o.minW&&(I.w=o.minW),I.w>o.maxW&&(I.w=o.maxW),I.h<o.minH&&(I.h=o.minH),I.h>o.maxH&&(I.h=o.maxH),I.h<1&&(I.h=1),I.w<1&&(I.w=1),y.value.x=L,y.value.h=H,(u.value.w!==I.w||u.value.h!==I.h)&&n("resize",o.i,I.h,I.w,D.height,D.width),x.type==="resizeend"&&(_.value.w!==u.value.w||_.value.h!==u.value.h)&&n("resized",o.i,I.h,I.w,D.height,D.width),r==null||r.emit("resize-event",[x.type,o.i,u.value.x,u.value.y,I.h,I.w])},K=x=>{a.value=x},U=()=>{!d.value&&i.value&&(d.value=tt(i.value)),o.isDraggable&&!o.static?(d.value.draggable({ignoreFrom:"a, button"}),l.value||(l.value=!0,d.value.on("dragstart dragmove dragend",$))):d.value.draggable({enabled:!1})},E=()=>{if(!d.value&&i.value&&(d.value=tt(i.value)),o.isResizable&&!o.static){const x=`.${Yo(s," ",".")}`,P=w(0,0,o.maxW,o.maxH),L=w(0,0,o.minW,o.minH),H={edges:{bottom:x,left:!1,right:x,top:!1},ignoreFrom:"a, button",restrictSize:{max:{height:P.height,width:P.width},min:{height:L.height,width:L.width}}};d.value.resizable(H),M.value||(M.value=!0,d.value.on("resizestart resizemove resizeend",B))}else d.value.resizable({enabled:!1})};return(()=>{r==null||r.on("recalculate-styles",k),r==null||r.on("set-col-num",K)})(),g.onBeforeUnmount(()=>{r==null||r.off("recalculate-styles",k),r==null||r.off("set-col-num",K),d.value&&d.value.unset(),o.observer&&o.observer.unobserve(i.value)}),g.onMounted(()=>{o.lastBreakpoint&&(a.value=Se(o.lastBreakpoint,o.breakpointCols)),U(),k()}),e({calcXY:X}),(x,P)=>(g.openBlock(),g.createElementBlock("div",{ref_key:"item",ref:i,class:g.normalizeClass(["vue-grid-item",g.unref(A)]),style:g.normalizeStyle(z.props)},[g.renderSlot(x.$slots,"default"),g.unref(p)?(g.openBlock(),g.createElementBlock("span",{key:0,class:g.normalizeClass(s)})):g.createCommentVNode("",!0)],6))}}),Ga="";var tn={exports:{}},ks=tn.exports={};ks.forEach=function(t,e){for(var n=0;n<t.length;n++){var o=e(t[n]);if(o)return o}};var Ms=function(t){var e=t.stateHandler.getState;function n(s){var a=e(s);return a&&!!a.isDetectable}function o(s){e(s).isDetectable=!0}function i(s){return!!e(s).busy}function r(s,a){e(s).busy=!!a}return{isDetectable:n,markAsDetectable:o,isBusy:i,markBusy:r}},As=function(t){var e={};function n(s){var a=t.get(s);return a===void 0?[]:e[a]||[]}function o(s,a){var l=t.get(s);e[l]||(e[l]=[]),e[l].push(a)}function i(s,a){for(var l=n(s),c=0,u=l.length;c<u;++c)if(l[c]===a){l.splice(c,1);break}}function r(s){var a=n(s);!a||(a.length=0)}return{get:n,add:o,removeListener:i,removeAllListeners:r}},Rs=function(){var t=1;function e(){return t++}return{generate:e}},$s=function(t){var e=t.idGenerator,n=t.stateHandler.getState;function o(r){var s=n(r);return s&&s.id!==void 0?s.id:null}function i(r){var s=n(r);if(!s)throw new Error("setId required the element to have a resize detection state.");var a=e.generate();return s.id=a,a}return{get:o,set:i}},Ns=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var o=function(i,r){i[r]=function(){var a=console[r];if(a.apply)a.apply(console,arguments);else for(var l=0;l<arguments.length;l++)a(arguments[l])}};o(n,"log"),o(n,"warn"),o(n,"error")}return n},en={exports:{}},xo=en.exports={};xo.isIE=function(t){function e(){var o=navigator.userAgent.toLowerCase();return o.indexOf("msie")!==-1||o.indexOf("trident")!==-1||o.indexOf(" edge/")!==-1}if(!e())return!1;if(!t)return!0;var n=function(){var o,i=3,r=document.createElement("div"),s=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:o}();return t===n},xo.isLegacyOpera=function(){return!!window.opera};var wo={exports:{}},Ls=wo.exports={};Ls.getOption=Hs;function Hs(t,e,n){var o=t[e];return o==null&&n!==void 0?n:o}var So=wo.exports,js=function(e){e=e||{};var n=e.reporter,o=So.getOption(e,"async",!0),i=So.getOption(e,"auto",!0);i&&!o&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),o=!0);var r=Eo(),s,a=!1;function l(y,_){!a&&i&&o&&r.size()===0&&d(),r.add(y,_)}function c(){for(a=!0;r.size();){var y=r;r=Eo(),y.process()}a=!1}function u(y){a||(y===void 0&&(y=o),s&&(m(s),s=null),y?d():c())}function d(){s=v(c)}function m(y){var _=clearTimeout;return _(y)}function v(y){var _=function(M){return setTimeout(M,0)};return _(y)}return{add:l,force:u}};function Eo(){var t={},e=0,n=0,o=0;function i(a,l){l||(l=a,a=0),a>n?n=a:a<o&&(o=a),t[a]||(t[a]=[]),t[a].push(l),e++}function r(){for(var a=o;a<=n;a++)for(var l=t[a],c=0;c<l.length;c++){var u=l[c];u()}}function s(){return e}return{add:i,process:r,size:s}}var nn="_erd";function Bs(t){return t[nn]={},Io(t)}function Io(t){return t[nn]}function Fs(t){delete t[nn]}var Ws={initState:Bs,getState:Io,cleanState:Fs},Qt=en.exports,qs=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,o=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function i(c,u){function d(){u(c)}if(Qt.isIE(8))o(c).object={proxy:d},c.attachEvent("onresize",d);else{var m=a(c);if(!m)throw new Error("Element is not detectable by this strategy.");m.contentDocument.defaultView.addEventListener("resize",d)}}function r(c){var u=t.important?" !important; ":"; ";return(c.join(u)+u).trim()}function s(c,u,d){d||(d=u,u=c,c=null),c=c||{},c.debug;function m(v,y){var _=r(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),M=!1,O=window.getComputedStyle(v),z=v.offsetWidth,A=v.offsetHeight;o(v).startSize={width:z,height:A};function b(){function p(){if(O.position==="static"){v.style.setProperty("position","relative",c.important?"important":"");var j=function(X,k,q,$){function B(U){return U.replace(/[^-\d\.]/g,"")}var K=q[$];K!=="auto"&&B(K)!=="0"&&(X.warn("An element that is positioned static has style."+$+"="+K+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+$+" will be set to 0. Element: ",k),k.style.setProperty($,"0",c.important?"important":""))};j(e,v,O,"top"),j(e,v,O,"right"),j(e,v,O,"bottom"),j(e,v,O,"left")}}function R(){M||p();function j(k,q){if(!k.contentDocument){var $=o(k);$.checkForObjectDocumentTimeoutId&&window.clearTimeout($.checkForObjectDocumentTimeoutId),$.checkForObjectDocumentTimeoutId=setTimeout(function(){$.checkForObjectDocumentTimeoutId=0,j(k,q)},100);return}q(k.contentDocument)}var X=this;j(X,function(q){y(v)})}O.position!==""&&(p(),M=!0);var w=document.createElement("object");w.style.cssText=_,w.tabIndex=-1,w.type="text/html",w.setAttribute("aria-hidden","true"),w.onload=R,Qt.isIE()||(w.data="about:blank"),o(v)&&(v.appendChild(w),o(v).object=w,Qt.isIE()&&(w.data="about:blank"))}n?n.add(b):b()}Qt.isIE(8)?d(u):m(u,d)}function a(c){return o(c).object}function l(c){if(!!o(c)){var u=a(c);!u||(Qt.isIE(8)?c.detachEvent("onresize",u.proxy):c.removeChild(u),o(c).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(c).checkForObjectDocumentTimeoutId),delete o(c).object)}}return{makeDetectable:s,addListener:i,uninstall:l}},Xs=tn.exports.forEach,Ys=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,o=t.stateHandler.getState;t.stateHandler.hasState;var i=t.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var r=u(),s="erd_scroll_detection_scrollbar_style",a="erd_scroll_detection_container";function l(b){d(b,s,a)}l(window.document);function c(b){var p=t.important?" !important; ":"; ";return(b.join(p)+p).trim()}function u(){var b=500,p=500,R=document.createElement("div");R.style.cssText=c(["position: absolute","width: "+b*2+"px","height: "+p*2+"px","visibility: hidden","margin: 0","padding: 0"]);var w=document.createElement("div");w.style.cssText=c(["position: absolute","width: "+b+"px","height: "+p+"px","overflow: scroll","visibility: none","top: "+-b*3+"px","left: "+-p*3+"px","visibility: hidden","margin: 0","padding: 0"]),w.appendChild(R),document.body.insertBefore(w,document.body.firstChild);var j=b-w.clientWidth,X=p-w.clientHeight;return document.body.removeChild(w),{width:j,height:X}}function d(b,p,R){function w(q,$){$=$||function(K){b.head.appendChild(K)};var B=b.createElement("style");return B.innerHTML=q,B.id=p,$(B),B}if(!b.getElementById(p)){var j=R+"_animation",X=R+"_animation_active",k=`/* Created by the element-resize-detector library. */
`;k+="."+R+" > div::-webkit-scrollbar { "+c(["display: none"])+` }

`,k+="."+X+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+j,"animation-name: "+j])+` }
`,k+="@-webkit-keyframes "+j+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,k+="@keyframes "+j+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",w(k)}}function m(b){b.className+=" "+a+"_animation_active"}function v(b,p,R){if(b.addEventListener)b.addEventListener(p,R);else if(b.attachEvent)b.attachEvent("on"+p,R);else return e.error("[scroll] Don't know how to add event listeners.")}function y(b,p,R){if(b.removeEventListener)b.removeEventListener(p,R);else if(b.detachEvent)b.detachEvent("on"+p,R);else return e.error("[scroll] Don't know how to remove event listeners.")}function _(b){return o(b).container.childNodes[0].childNodes[0].childNodes[0]}function M(b){return o(b).container.childNodes[0].childNodes[0].childNodes[1]}function O(b,p){var R=o(b).listeners;if(!R.push)throw new Error("Cannot add listener to an element that is not detectable.");o(b).listeners.push(p)}function z(b,p,R){R||(R=p,p=b,b=null),b=b||{};function w(){if(b.debug){var S=Array.prototype.slice.call(arguments);if(S.unshift(i.get(p),"Scroll: "),e.log.apply)e.log.apply(null,S);else for(var F=0;F<S.length;F++)e.log(S[F])}}function j(S){function F(G){var ut=G.getRootNode&&G.getRootNode().contains(G);return G===G.ownerDocument.body||G.ownerDocument.body.contains(G)||ut}return!F(S)||window.getComputedStyle(S)===null}function X(S){var F=o(S).container.childNodes[0],G=window.getComputedStyle(F);return!G.width||G.width.indexOf("px")===-1}function k(){var S=window.getComputedStyle(p),F={};return F.position=S.position,F.width=p.offsetWidth,F.height=p.offsetHeight,F.top=S.top,F.right=S.right,F.bottom=S.bottom,F.left=S.left,F.widthCSS=S.width,F.heightCSS=S.height,F}function q(){var S=k();o(p).startSize={width:S.width,height:S.height},w("Element start size",o(p).startSize)}function $(){o(p).listeners=[]}function B(){if(w("storeStyle invoked."),!o(p)){w("Aborting because element has been uninstalled");return}var S=k();o(p).style=S}function K(S,F,G){o(S).lastWidth=F,o(S).lastHeight=G}function U(S){return _(S).childNodes[0]}function E(){return 2*r.width+1}function N(){return 2*r.height+1}function x(S){return S+10+E()}function P(S){return S+10+N()}function L(S){return S*2+E()}function H(S){return S*2+N()}function D(S,F,G){var ut=_(S),Dt=M(S),$t=x(F),Nt=P(G),nt=L(F),W=H(G);ut.scrollLeft=$t,ut.scrollTop=Nt,Dt.scrollLeft=nt,Dt.scrollTop=W}function I(){var S=o(p).container;if(!S){S=document.createElement("div"),S.className=a,S.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(p).container=S,m(S),p.appendChild(S);var F=function(){o(p).onRendered&&o(p).onRendered()};v(S,"animationstart",F),o(p).onAnimationStart=F}return S}function V(){function S(){var J=o(p).style;if(J.position==="static"){p.style.setProperty("position","relative",b.important?"important":"");var vt=function(Ht,kt,da,be){function fa(pa){return pa.replace(/[^-\d\.]/g,"")}var on=da[be];on!=="auto"&&fa(on)!=="0"&&(Ht.warn("An element that is positioned static has style."+be+"="+on+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+be+" will be set to 0. Element: ",kt),kt.style[be]=0)};vt(e,p,J,"top"),vt(e,p,J,"right"),vt(e,p,J,"bottom"),vt(e,p,J,"left")}}function F(J,vt,Ht,kt){return J=J?J+"px":"0",vt=vt?vt+"px":"0",Ht=Ht?Ht+"px":"0",kt=kt?kt+"px":"0",["left: "+J,"top: "+vt,"right: "+kt,"bottom: "+Ht]}if(w("Injecting elements"),!o(p)){w("Aborting because element has been uninstalled");return}S();var G=o(p).container;G||(G=I());var ut=r.width,Dt=r.height,$t=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Nt=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(F(-(1+ut),-(1+Dt),-Dt,-ut))),nt=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),W=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),st=c(["position: absolute","left: 0","top: 0"]),Ct=c(["position: absolute","width: 200%","height: 200%"]),gt=document.createElement("div"),mt=document.createElement("div"),Lt=document.createElement("div"),$o=document.createElement("div"),ye=document.createElement("div"),No=document.createElement("div");gt.dir="ltr",gt.style.cssText=$t,gt.className=a,mt.className=a,mt.style.cssText=Nt,Lt.style.cssText=nt,$o.style.cssText=st,ye.style.cssText=W,No.style.cssText=Ct,Lt.appendChild($o),ye.appendChild(No),mt.appendChild(Lt),mt.appendChild(ye),gt.appendChild(mt),G.appendChild(gt);function Lo(){var J=o(p);J&&J.onExpand?J.onExpand():w("Aborting expand scroll handler: element has been uninstalled")}function Ho(){var J=o(p);J&&J.onShrink?J.onShrink():w("Aborting shrink scroll handler: element has been uninstalled")}v(Lt,"scroll",Lo),v(ye,"scroll",Ho),o(p).onExpandScroll=Lo,o(p).onShrinkScroll=Ho}function lt(){function S(nt,W,st){var Ct=U(nt),gt=x(W),mt=P(st);Ct.style.setProperty("width",gt+"px",b.important?"important":""),Ct.style.setProperty("height",mt+"px",b.important?"important":"")}function F(nt){var W=p.offsetWidth,st=p.offsetHeight,Ct=W!==o(p).lastWidth||st!==o(p).lastHeight;w("Storing current size",W,st),K(p,W,st),n.add(0,function(){if(!!Ct){if(!o(p)){w("Aborting because element has been uninstalled");return}if(!G()){w("Aborting because element container has not been initialized");return}if(b.debug){var mt=p.offsetWidth,Lt=p.offsetHeight;(mt!==W||Lt!==st)&&e.warn(i.get(p),"Scroll: Size changed before updating detector elements.")}S(p,W,st)}}),n.add(1,function(){if(!o(p)){w("Aborting because element has been uninstalled");return}if(!G()){w("Aborting because element container has not been initialized");return}D(p,W,st)}),Ct&&nt&&n.add(2,function(){if(!o(p)){w("Aborting because element has been uninstalled");return}if(!G()){w("Aborting because element container has not been initialized");return}nt()})}function G(){return!!o(p).container}function ut(){function nt(){return o(p).lastNotifiedWidth===void 0}w("notifyListenersIfNeeded invoked");var W=o(p);if(nt()&&W.lastWidth===W.startSize.width&&W.lastHeight===W.startSize.height)return w("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(W.lastWidth===W.lastNotifiedWidth&&W.lastHeight===W.lastNotifiedHeight)return w("Not notifying: Size already notified");w("Current size not notified, notifying..."),W.lastNotifiedWidth=W.lastWidth,W.lastNotifiedHeight=W.lastHeight,Xs(o(p).listeners,function(st){st(p)})}function Dt(){if(w("startanimation triggered."),X(p)){w("Ignoring since element is still unrendered...");return}w("Element rendered.");var nt=_(p),W=M(p);(nt.scrollLeft===0||nt.scrollTop===0||W.scrollLeft===0||W.scrollTop===0)&&(w("Scrollbars out of sync. Updating detector elements..."),F(ut))}function $t(){if(w("Scroll detected."),X(p)){w("Scroll event fired while unrendered. Ignoring...");return}F(ut)}if(w("registerListenersAndPositionElements invoked."),!o(p)){w("Aborting because element has been uninstalled");return}o(p).onRendered=Dt,o(p).onExpand=$t,o(p).onShrink=$t;var Nt=o(p).style;S(p,Nt.width,Nt.height)}function et(){if(w("finalizeDomMutation invoked."),!o(p)){w("Aborting because element has been uninstalled");return}var S=o(p).style;K(p,S.width,S.height),D(p,S.width,S.height)}function rt(){R(p)}function Y(){w("Installing..."),$(),q(),n.add(0,B),n.add(1,V),n.add(2,lt),n.add(3,et),n.add(4,rt)}w("Making detectable..."),j(p)?(w("Element is detached"),I(),w("Waiting until element is attached..."),o(p).onRendered=function(){w("Element is now attached"),Y()}):Y()}function A(b){var p=o(b);!p||(p.onExpandScroll&&y(_(b),"scroll",p.onExpandScroll),p.onShrinkScroll&&y(M(b),"scroll",p.onShrinkScroll),p.onAnimationStart&&y(p.container,"animationstart",p.onAnimationStart),p.container&&b.removeChild(p.container))}return{makeDetectable:z,addListener:O,uninstall:A,initDocument:l}},Zt=tn.exports.forEach,Gs=Ms,Vs=As,Us=Rs,Ks=$s,Js=Ns,zo=en.exports,Qs=js,It=Ws,Zs=qs,ta=Ys;function To(t){return Array.isArray(t)||t.length!==void 0}function _o(t){if(Array.isArray(t))return t;var e=[];return Zt(t,function(n){e.push(n)}),e}function Oo(t){return t&&t.nodeType===1}var ea=function(t){t=t||{};var e;if(t.idHandler)e={get:function(z){return t.idHandler.get(z,!0)},set:t.idHandler.set};else{var n=Us(),o=Ks({idGenerator:n,stateHandler:It});e=o}var i=t.reporter;if(!i){var r=i===!1;i=Js(r)}var s=zt(t,"batchProcessor",Qs({reporter:i})),a={};a.callOnAdd=!!zt(t,"callOnAdd",!0),a.debug=!!zt(t,"debug",!1);var l=Vs(e),c=Gs({stateHandler:It}),u,d=zt(t,"strategy","object"),m=zt(t,"important",!1),v={reporter:i,batchProcessor:s,stateHandler:It,idHandler:e,important:m};if(d==="scroll"&&(zo.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):zo.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")u=ta(v);else if(d==="object")u=Zs(v);else throw new Error("Invalid strategy name: "+d);var y={};function _(z,A,b){function p(q){var $=l.get(q);Zt($,function(K){K(q)})}function R(q,$,B){l.add($,B),q&&B($)}if(b||(b=A,A=z,z={}),!A)throw new Error("At least one element required.");if(!b)throw new Error("Listener required.");if(Oo(A))A=[A];else if(To(A))A=_o(A);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var w=0,j=zt(z,"callOnAdd",a.callOnAdd),X=zt(z,"onReady",function(){}),k=zt(z,"debug",a.debug);Zt(A,function($){It.getState($)||(It.initState($),e.set($));var B=e.get($);if(k&&i.log("Attaching listener to element",B,$),!c.isDetectable($)){if(k&&i.log(B,"Not detectable."),c.isBusy($)){k&&i.log(B,"System busy making it detectable"),R(j,$,b),y[B]=y[B]||[],y[B].push(function(){w++,w===A.length&&X()});return}return k&&i.log(B,"Making detectable..."),c.markBusy($,!0),u.makeDetectable({debug:k,important:m},$,function(U){if(k&&i.log(B,"onElementDetectable"),It.getState(U)){c.markAsDetectable(U),c.markBusy(U,!1),u.addListener(U,p),R(j,U,b);var E=It.getState(U);if(E&&E.startSize){var N=U.offsetWidth,x=U.offsetHeight;(E.startSize.width!==N||E.startSize.height!==x)&&p(U)}y[B]&&Zt(y[B],function(P){P()})}else k&&i.log(B,"Element uninstalled before being detectable.");delete y[B],w++,w===A.length&&X()})}k&&i.log(B,"Already detecable, adding listener."),R(j,$,b),w++}),w===A.length&&X()}function M(z){if(!z)return i.error("At least one element is required.");if(Oo(z))z=[z];else if(To(z))z=_o(z);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Zt(z,function(A){l.removeAllListeners(A),u.uninstall(A),It.cleanState(A)})}function O(z){u.initDocument&&u.initDocument(z)}return{listenTo:_,removeListener:l.removeListener,removeAllListeners:l.removeAllListeners,uninstall:M,initDocument:O}};function zt(t,e,n){var o=t[e];return o==null&&n!==void 0?n:o}function na(t){return{all:t=t||new Map,on:function(e,n){var o=t.get(e);o?o.push(n):t.set(e,[n])},off:function(e,n){var o=t.get(e);o&&(n?o.splice(o.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var o=t.get(e);o&&o.slice().map(function(i){i(n)}),(o=t.get("*"))&&o.slice().map(function(i){i(e,n)})}}}const Po=()=>typeof window<"u",oa=(t,e)=>{if(!Po)return e();window.addEventListener(t,e)},ia=(t,e)=>{!Po||window.removeEventListener(t,e)},Do={breakpointsValidatorPayload:{invalidBreakpointsKeys1:{lg:0,md:0,sm:0,xs:0,xx:0},invalidBreakpointsKeys2:{lg:0,md:0,sm:0,xs:0},invalidBreakpointsTypes:{lg:"0",md:0,sm:0,xs:0,xx:0},validBreakpoints:{lg:0,md:0,sm:0,xs:0,xxs:0}},intersectionObserverConfig:{root:null,rootMargin:"8px",threshold:.4},keysValidatorPayload:{invalidKeys1:["lg","md","sm","xs","xxw"],invalidKeys2:["1","2","3","4","5"],validKeys:["lg","md","sm","xs","xxs"]},layoutValidatorPayload:{invalidOptionalLayout:{isDraggable:!0,isResizable:!1,maxH:0,maxW:"0",minH:0,minW:0,moved:!0,static:!1},invalidRequiredLayout:{h:0,i:"string",w:0,x:0,y:0},validOptionalLayout:{isDraggable:!0,isResizable:!1,maxH:0,maxW:0,minH:0,minW:0,moved:!0,static:!1},validRequiredLayout:{h:0,i:-1,w:0,x:0,y:0}},marginValidatorPayload:{invalidMargin1:[0,0,0],invalidMargin2:["0",0],validMargin:[0,0]}},{keysValidatorPayload:ra,layoutValidatorPayload:sa}=Do,Co=t=>{const e=Object.keys(t),n=e.map(o=>typeof t[o]=="number");return ko(ra.validKeys,e)&&n.indexOf(!1)===-1},aa=t=>{t={...Do.intersectionObserverConfig,...t};const e=["root","rootMargin","threshold"];return!Object.keys(t).map(o=>e.includes(o)).includes(!1)},ko=(t,e)=>{const n=e.filter(o=>t.indexOf(o)>=0);return e.length>=t.length&&n.length===t.length},Mo=t=>{const{validOptionalLayout:e,validRequiredLayout:n}=sa,o={...n,...e},i=Object.keys(n);return t.map(a=>ko(i,Object.keys(a))).includes(!1)?!1:!t.map(a=>Object.keys(a).map(c=>o[c]?typeof a[c]==typeof o[c]:!0).includes(!1)).includes(!0)},ca=t=>{const e=t.map(o=>typeof o=="number"),n=t.length===2;return e.indexOf(!1)===-1&&n},Ao=g.defineComponent({__name:"GridLayout",props:{autoSize:{default:!0,type:Boolean},breakpoints:{default:()=>({lg:1200,md:996,sm:768,xs:480,xxs:0}),type:Object,validator:Co},colNum:{required:!0,type:Number},cols:{default:()=>({lg:12,md:10,sm:6,xs:4,xxs:2}),type:Object,validator:Co},intersectionObserverConfig:{default:()=>({root:null,rootMargin:"8px",threshold:.4}),type:Object,validator:aa},isDraggable:{default:!0,type:Boolean},isResizable:{default:!0,type:Boolean},layout:{required:!0,type:Array,validator:Mo},margin:{default:()=>[10,10],type:Array,validator:ca},maxRows:{default:1/0,type:Number},preventCollision:{default:!1,type:Boolean},responsive:{default:!1,type:Boolean},responsiveLayouts:{default:()=>({}),type:Object,validator:t=>{const e=Object.keys(t);return e.length?!e.map(o=>Mo(t[o])).includes(!1):!0}},rowHeight:{default:150,type:Number},useCssTransforms:{default:!0,type:Boolean},useObserver:{default:!1,type:Boolean},verticalCompact:{default:!0,type:Boolean}},emits:["update:layout","layout-ready","update:breakpoint","layout-created","layout-before-mount","layout-mounted","container-resized","item-resize","item-resized","item-move","item-moved","intersection-observe","intersection-unobserve"],setup(t,{expose:e,emit:n}){const o=t,i=na();g.provide(yt,i);const r={h:0,i:-1,w:0,x:0,y:0},s=["minW","minH","maxW","maxH","moved","static","isDraggable","isResizable"],a=g.ref(ea({callOnAdd:!1,strategy:"scroll"})),l=g.ref(!1),c=g.ref(""),u=g.ref(0),d=g.ref({}),m=g.ref({}),v=g.ref(o.layout),y=g.ref({h:0,i:-1,w:0,x:0,y:0}),_=g.ref(0);let M;const O=g.ref(null),z=g.computed(()=>({breakpointCols:o.cols,colNum:o.colNum,containerWidth:_.value,isDraggable:o.isDraggable,isResizable:o.isResizable,lastBreakpoint:c.value,margin:o.margin,maxRows:o.maxRows,responsive:o.responsive,rowHeight:o.rowHeight,useCssTransforms:o.useCssTransforms,width:_.value}));g.watch(()=>o.colNum,E=>{i.emit("set-col-num",E)}),g.watch(()=>o.layout,()=>{p()}),g.watch(()=>o.margin,()=>{j()}),g.watch(()=>o.responsive,E=>{E||(n("update:layout",v.value),i.emit("set-col-num",o.colNum)),k()}),g.watch(()=>_.value,(E,N)=>{g.nextTick(()=>{N===0&&g.nextTick(()=>{n("layout-ready",o.layout)}),o.responsive&&q(),j()})}),g.watch(()=>o.useObserver,E=>{if(!E){M.disconnect();return}U()});const A=E=>{const N={observe:[],unobserve:[]};E.forEach(({target:x,isIntersecting:P})=>{if(P){N.observe.push(x.__INTERSECTION_OBSERVER_INDEX__);return}N.unobserve.push(x.__INTERSECTION_OBSERVER_INDEX__)}),n("intersection-observe",N.observe),n("intersection-unobserve",N.unobserve)},b=E=>{const N=Object.keys(r);return Object.keys(E).reduce((x,P)=>((s.includes(P)||N.includes(P))&&(x[P]=E[P]),x),{})},p=()=>{if(o.layout&&v.value){if(o.layout.length!==v.value.length){const E=R(o.layout,v.value);E.length>0&&(o.layout.length>v.value.length?v.value=v.value.concat(E):v.value=v.value.filter(N=>!E.some(x=>N.i===x.i))),u.value=o.layout.length,w()}jt(o.layout,o.verticalCompact),j(),n("update:layout",o.layout),i.emit("recalculate-styles")}},R=(E,N)=>{const x=E.filter(L=>!N.some(H=>L.i===H.i)),P=N.filter(L=>!E.some(H=>L.i===H.i));return x.concat(P)},w=()=>{d.value=Object.assign({},o.responsiveLayouts)},j=()=>{const E=X();m.value={height:E}},X=()=>{if(!o.autoSize)return;const[,E]=o.margin;return`${jo(o.layout)*(o.rowHeight+E)+E}px`},k=()=>{O.value&&(_.value=O.value.offsetWidth)},q=()=>{const E=Vo(o.breakpoints,_.value),N=Se(E,o.cols);c.value&&!d.value[c.value]&&(d.value[c.value]=xe(o.layout));const x=Go(v.value,d.value,o.breakpoints,E,c.value,N,o.verticalCompact);d.value[E]=x,c.value!==E&&n("update:breakpoint",E,x),c.value=E,n("update:layout",x),i.emit("set-col-num",Se(E,o.cols))},$=()=>{n("layout-created",o.layout),i.on("resize-event",B),i.on("drag-event",K)},B=([E,N,x,P,L,H])=>{const D=an(o.layout,N),I=D!=null?D:{...r};let V;if(o.preventCollision){const lt=sn(o.layout,{...I,h:L,w:H}).filter(et=>et.i!==I.i);if(V=lt.length>0,V){let et=1/0,rt=1/0;lt.forEach(Y=>{Y.x>I.x&&(et=Math.min(et,Y.x)),Y.y>I.y&&(rt=Math.min(rt,Y.y))}),Number.isFinite(et)&&(I.w=et-I.x),Number.isFinite(rt)&&(I.h=rt-I.y)}}V||(I.w=H,I.h=L),E==="resizestart"||E==="resizemove"?(y.value.i=+N,y.value.x=x,y.value.y=P,y.value.w=I.w,y.value.h=I.h,g.nextTick(()=>{l.value=!0})):g.nextTick(()=>{l.value=!1}),o.responsive&&q(),jt(o.layout,o.verticalCompact),i.emit("recalculate-styles"),j(),E==="resizeend"&&n("update:layout",o.layout)},K=([E,N,x,P,L,H])=>{const D=an(o.layout,N),I=D!=null?D:{...r};E==="dragmove"||E==="dragstart"?(y.value.i=+N,y.value.x=I.x,y.value.y=I.y,y.value.w=H,y.value.h=L,g.nextTick(()=>{l.value=!0})):g.nextTick(()=>{l.value=!1}),n("update:layout",we(o.layout,I,x,P,!0,o.preventCollision)),jt(o.layout,o.verticalCompact),i.emit("recalculate-styles"),j(),E==="dragend"&&n("update:layout",o.layout)},U=()=>{M=new IntersectionObserver(A,{root:null,rootMargin:"8px",threshold:.4,...o.intersectionObserverConfig})};return $(),g.onBeforeUnmount(()=>{ia("resize",k),a.value&&O.value&&a.value.uninstall(O.value),i.off("resize-event",B),i.off("drag-event",K)}),g.onBeforeMount(()=>{n("layout-before-mount",o.layout)}),g.onMounted(()=>{n("layout-mounted",o.layout),g.nextTick(()=>{v.value=o.layout,g.nextTick(()=>{k(),w(),oa("resize",k.bind(this)),jt(o.layout,o.verticalCompact),n("update:layout",o.layout),j(),O.value&&a.value.listenTo(O.value,k),o.useObserver&&U()})})}),e({dragEvent:K}),(E,N)=>(g.openBlock(),g.createElementBlock("div",null,[g.createElementVNode("div",{ref_key:"wrapper",ref:O,class:"vue-grid-layout",style:g.normalizeStyle(m.value)},[g.withDirectives(g.createVNode(ve,g.mergeProps({class:"vue-grid-placeholder"},{...g.unref(z),...y.value}),null,16),[[g.vShow,l.value]]),g.renderSlot(E.$slots,"default",{gridItemProps:{...g.unref(z),observer:g.unref(M)}},()=>[(g.openBlock(!0),g.createElementBlock(g.Fragment,null,g.renderList(t.layout,x=>(g.openBlock(),g.createBlock(ve,g.mergeProps({key:x.i},{...g.unref(z),...b(x)},{observer:g.unref(M),onContainerResized:N[0]||(N[0]=P=>n("container-resized",P)),onResize:N[1]||(N[1]=P=>n("item-resize",P)),onMove:N[2]||(N[2]=P=>n("item-move",P)),onMoved:N[3]||(N[3]=P=>n("item-moved",P))}),{default:g.withCtx(()=>[g.renderSlot(E.$slots,"gridItemContent",{item:x})]),_:2},1040,["observer"]))),128))])],4)]))}}),Va="",Ro={GridItem:ve,GridLayout:Ao};function la(t){t.$_v3DRRGridLayout||(t.$_v3DRRGridLayout=!0,Object.keys(Ro).forEach(e=>{t.component(e,Ro[e])}))}const ua={install:la};Z.GridItem=ve,Z.GridLayout=Ao,Z.default=ua,Object.defineProperties(Z,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
